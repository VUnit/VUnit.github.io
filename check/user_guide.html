<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../about.html" /><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="check package" href="check_api.html" /><link rel="prev" title="Logging Library User Guide" href="../logging/user_guide.html" />

    <link rel="shortcut icon" href="../_static/vunit.ico"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.08.06 -->
        <title>Check Library User Guide - VUnit documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/fontawesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/solid.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/brands.min.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">VUnit  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/VUnit_logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../blog/index.html">Blog</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Blog</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../blog/2023_08_26_vhdl_configurations.html">Improved Support for VHDL Configurations and OSVVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2023_04_01_vunit_phases.html">VUnit Phases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2023_03_31_vunit_events.html">VUnit Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2022_09_19_vunit_user_conference.html">VUnit User Conference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2022_09_06_vunit_and_other_frameworks.html">FAQ What is VUnit’s Relation to Other Verification Frameworks?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2020_08_12_continuous_integration_with_vunit_action_in_10_lines_of_code.html">Continuous Integration With VUnit Action in 10 Lines of Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_09_22_sigasi_adds_full_vunit_support.html">Sigasi Adds Full VUnit Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_07_22_sigasi_deepens_its_commitment_to_the_vunit_testing_framework.html">Sigasi Deepens Its Commitment to the VUnit Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_03_22_vunit_community_developed_bfms.html">VUnit Community Developed BFMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_02_12_vunit3.html">VUnit 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_12_14_vunit_bfms_as_simple_as_emailing.html">VUnit BFMs - as Simple as Emailing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_11_23_vunit_matlab_integration.html">VUnit Matlab Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_11_07_vunit_3_0_while_waiting_for_vhdl_2017.html">VUnit 3.0 - While Waiting for VHDL-2017</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_10_31_vunit_3_0_color_logging.html">VUnit 3.0 Color Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_09_28_sigasi_adds_support_for_vunit_testing_framework.html">Sigasi Adds Support for VUnit Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_06_03_enable_your_simulator_to_handle_complex_top_level_generics.html">Enable Your Simulator to Handle Complex Top-Level Generics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_01_12_vunit_getting_started_1_2_3.html">VUnit - Getting Started 1-2-3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_11_22_vunit_the_best_value_for_initial_effort_part3.html">VUnit - The Best Value for Initial Effort - Part 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_11_16_vunit_the_best_value_for_initial_effort_part2.html">VUnit - The Best Value for Initial Effort - Part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_11_15_vunit_the_best_value_for_initial_effort_part1.html">VUnit - The Best Value for Initial Effort - Part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_08_08_making_osvvm_a_submodule.html">Making OSVVM a Git Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_02_21_improving_vhdl_testbench_design_with_message_passing.html">Improving VHDL Testbench Design with Message Passing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_02_01_website_updates.html">Website Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_01_29_chat_with_vunit_users_and_developers.html">Chat with VUnit Users and Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_01_26_welcome_to_our_new_website.html">Welcome to Our New Website</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2015_12_15_free_and_open_source_verification_with_vunit_and_ghdl.html">Free and Open Source Verification with VUnit and GHDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2015_10_08_who_is_using_UVM.html">Who’s Using UVM (or Not) for FPGA Development, and Why?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2015_09_24_short_introduction_to_vunit.html">Short Introduction to VUnit</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">What is VUnit?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testimonials/testimonials.html">Testimonials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../id/user_guide.html">Identity Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging/user_guide.html">Logging Library User Guide</a></li>
<li class="toctree-l1 current has-children current-page"><a class="current reference internal" href="#">Check Library User Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Check Library User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="check_api.html"><em>check</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="checker_pkg.html"><em>checker</em> package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../run/user_guide.html">Run Library User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../com/user_guide.html">Communication Library User Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../verification_components/user_guide.html">Verification Components User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Verification Components User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/memory_model.html">Memory Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html">Bus Master VCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html#stream-master-vci">Stream Master VCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html#stream-slave-vci">Stream Slave VCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html#synchronization-vci">Synchronization VCI</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data_types/user_guide.html">Data Types User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Data Types User Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_types/event_user_guide.html">VUnit Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/queue.html"><em>queue</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/integer_array.html"><em>integer_array</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/ext_string.html"><em>external string</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/ext_integer_vector.html"><em>external integer vector</em> package</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../py/ui.html">Python Interface</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Python Interface</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../py/vunit.html">vunit.ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="../py/opts.html">Compilation Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../py/opts.html#simulation-options">Simulation Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hdl_libraries.html">HDL Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Continuous Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ci/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/script.html">Setup/configuration scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/container.html">Containers and/or Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/manual.html">Manual setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/usecases.html">Practical use cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/VUnit/vunit/blob/master/docs/check/user_guide.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/VUnit/vunit/edit/master/docs/check/user_guide.rst" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="check-library-user-guide">
<span id="check-library"></span><h1>Check Library User Guide<a class="headerlink" href="#check-library-user-guide" title="Link to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>The check library is an assertion library for VHDL providing the more commonly used assertions as a number of check
procedures and functions.</p>
</section>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Link to this heading">¶</a></h2>
<p>Most check subprograms are conditional log messages. If the condition represents a failing check then an error message
is issued using the VUnit <a class="reference internal" href="../logging/user_guide.html"><span class="doc">log package</span></a>.</p>
<p>Every check you perform is handled by a checker. There is a default checker that is used when none is specified but you
can also create multiple custom checkers. For example</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Expected active read enable at this point&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will use the default checker while</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check</span><span class="p">(</span><span class="n">my_checker</span><span class="p">,</span><span class="w"> </span><span class="n">re</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Expected active read enable at this point&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will use the custom <code class="docutils literal notranslate"><span class="pre">my_checker</span></code>. A custom checker is just a variable or constant initialized with the <code class="docutils literal notranslate"><span class="pre">new_checker</span></code>
function.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">constant</span><span class="w"> </span><span class="n">my_checker</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">checker_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">new_checker</span><span class="p">(</span><span class="s">&quot;my_checker&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>All subprograms presented in this user guide are available for both the default checker and custom checkers. The
difference is the first <code class="docutils literal notranslate"><span class="pre">checker</span></code> parameter which only exists for custom checker subprograms. To make the user guide
more compact, we present this as an optional parameter using square brackets. For example</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">check_false</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">expr</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">   </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</pre></div>
</div>
<p>The full verbose API description can always be found in <a class="reference internal" href="check_api.html#check-api"><span class="std std-ref">check_api.vhd</span></a> and <a class="reference internal" href="checker_pkg.html#checker-pkg"><span class="std std-ref">checker_pkg.vhd</span></a>.</p>
</section>
<section id="checker-creation">
<h2>Checker Creation<a class="headerlink" href="#checker-creation" title="Link to this heading">¶</a></h2>
<p>Since a check is a conditional log, it uses a logger from the logging library described in the <a class="reference internal" href="../logging/user_guide.html"><span class="doc">logging user guide</span></a> internally.</p>
<p>A checker is created based on the logger to use or the name of that logger. If the named logger doesn’t exist, it will
be created. Additionally, there is also a <code class="docutils literal notranslate"><span class="pre">default_log_level</span></code> parameter that can be used to specify the default log
level of failing checks.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">new_checker</span><span class="p">(</span><span class="n">logger_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                            </span><span class="n">default_log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;</span>
<span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">new_checker</span><span class="p">(</span><span class="n">logger</span><span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                            </span><span class="n">default_log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">error</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="check">
<h2>Check<a class="headerlink" href="#check" title="Link to this heading">¶</a></h2>
<p>The check library provides a basic <code class="docutils literal notranslate"><span class="pre">check</span></code> procedure which is similar to the VHDL <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Expected active read enable at this point&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The first parameter is the boolean expression to be evaluated, and the second parameter is the error message that will
be issued if the expression is false. Assuming this check fails, and you haven’t changed the default settings for the
default checker, the error message will be:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">10000 ps - check -  ERROR - Expected active read enable at this point</span>
</pre></div>
</div>
<p>If you wish to have a log level other than the one set by default via the <code class="docutils literal notranslate"><span class="pre">new_checker</span></code> function, you can override
this for each check call. For example,</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Expected active read enable at this point&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">failure</span><span class="p">);</span>
</pre></div>
</div>
<p>A failing check is always counted as a failure, no matter the severity level specified. However, the level determines
whether the simulation stops, which is controlled by the stop level for the internal logger. The stop level can be
changed by retrieving the logger and then use the <code class="docutils literal notranslate"><span class="pre">set_stop_level</span></code> procedure as described in the <a class="reference internal" href="../logging/user_guide.html"><span class="doc">logging user
guide</span></a>. For example,</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">set_stop_level</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(</span><span class="n">my_checker</span><span class="p">),</span><span class="w"> </span><span class="n">warning</span><span class="p">);</span>
</pre></div>
</div>
<p>Note that when using the VUnit Python test runner, the default checker stop level is set to <code class="docutils literal notranslate"><span class="pre">error</span></code> when calling
<code class="docutils literal notranslate"><span class="pre">test_runner_setup</span></code>. This is because the Python test runner has the capability to restart the simulation with the next
test case, ensuring that the error state of the failing test case won’t be propagated into subsequent tests. If the
Python test runner isn’t being used, then the stop level is set to <code class="docutils literal notranslate"><span class="pre">failure</span></code>, allowing for continued execution on
<code class="docutils literal notranslate"><span class="pre">error</span></code>, but without the assurance that the error state won’t be passed on.</p>
<section id="logging-passing-checks">
<h3>Logging Passing Checks<a class="headerlink" href="#logging-passing-checks" title="Link to this heading">¶</a></h3>
<p>The provided message in a check call is logged when the check passes, allowing for the creation of a debug trace to help
investigate what occurred before a bug. This feature uses the <code class="docutils literal notranslate"><span class="pre">pass</span></code> log level, which is not visible by default, but can
be made visible for any log handler.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(</span><span class="n">default_checker</span><span class="p">),</span><span class="w"> </span><span class="n">display_handler</span><span class="p">,</span><span class="w"> </span><span class="n">pass</span><span class="p">);</span>
</pre></div>
</div>
<p>The difference between a passing check log message and a failing check log message is
the log level used. A passing check like this</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Checking that read enable is active&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will result in a log entry like this</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - PASS - Checking that read enable is active</span>
</pre></div>
</div>
<p>Note that a message that reads well for both the pass and the fail cases was used.</p>
<p>A number of check subprograms perform several checks for every call, each of which can fail and generate an error
message. However, there will only be one pass message for such a call to avoid confusion. For example, <code class="docutils literal notranslate"><span class="pre">check_stable</span></code>
checks the stability of a signal for every clock cycle in a window. If the window is 100 clock cycles there will be 100
checks for stability but there will only be one pass message, not 100, if the signal is stable.</p>
</section>
<section id="message-format">
<h3>Message Format<a class="headerlink" href="#message-format" title="Link to this heading">¶</a></h3>
<p>In the previous examples the outputs from passing and failing checks were the messages provided by the user with the
addition of a timestamp, the logger name and the log level. If we change the log format to <code class="docutils literal notranslate"><span class="pre">raw</span></code> there would be no
additions at all, just the user message. However, the check subprograms may also add information to the user message
before the log format additions are applied. For example, checking a pixel value after an image processing operation can
be done like this:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_equal</span><span class="p">(</span><span class="n">output_pixel</span><span class="p">,</span><span class="w"> </span><span class="n">reference_model</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;Comparing output pixel with reference model&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Resulting in an error message like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - ERROR - Comparing output pixel with reference model - Got 1111_1010 (250). Expected 249 (1111_1001).</span>
</pre></div>
</div>
<p>The last part of the message provides an error context to help debugging. Such a context is only given if that provides
extra information. In the case of a failing <code class="docutils literal notranslate"><span class="pre">check</span></code> we know that the input boolean is false so there is no need to
provide that information. The context may also be different between pass and error messages. For example, a pass message
from <code class="docutils literal notranslate"><span class="pre">check_equal</span></code> looks like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - PASS - Comparing output pixel with reference model - Got 1111_1010 (250).</span>
</pre></div>
</div>
<p>Redundancy is avoided by excluding the expected value which is the same as the value received.</p>
<p>So far we’ve used a message that reads well in both the passing and the failing case. The check library also provides
another way of doing this using the <code class="docutils literal notranslate"><span class="pre">result</span></code> function. The call</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_equal</span><span class="p">(</span><span class="n">output_pixel</span><span class="p">,</span><span class="w"> </span><span class="n">reference_model</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;for output pixel&quot;</span><span class="p">));</span>
</pre></div>
</div>
<p>gives the following messages:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - ERROR - Equality check failed for output pixel - Got 1111_1010 (250). Expected 249 (1111_1001).</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - PASS - Equality check passed for output pixel - Got 1111_1010 (250).</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">result</span></code> function prepends the provided string with the check type (equality check in this case) and assigns
either a passed or failed label based on the result. This function is also used as the default argument for all check
calls. For example,</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_equal</span><span class="p">(</span><span class="n">output_pixel</span><span class="p">,</span><span class="w"> </span><span class="n">reference_model</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">));</span>
</pre></div>
</div>
<p>gives the following messages:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - ERROR - Equality check failed - Got 1111_1010 (250). Expected 249 (1111_1001).</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - PASS - Equality check passed - Got 1111_1010 (250).</span>
</pre></div>
</div>
<p>If you look at the default value for the user messages in the check subprogram APIs, you will see that the <code class="docutils literal notranslate"><span class="pre">result</span></code>
function isn’t used. This is a workaround for one of the supported simulators which exposes the internal implementation
of the <code class="docutils literal notranslate"><span class="pre">result</span></code> function (a magic constant prepending the user message). You shouldn’t use the magic constant yourself
since that implementation may change at any time. For that reason we’re also keeping the <code class="docutils literal notranslate"><span class="pre">result</span></code> function in the APIs
presented in this user guide.</p>
</section>
<section id="check-location">
<h3>Check Location<a class="headerlink" href="#check-location" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">check</span></code> subprograms described in the previous sections have three additional parameters, <code class="docutils literal notranslate"><span class="pre">path_offset</span></code>,
<code class="docutils literal notranslate"><span class="pre">line_num</span></code> and <code class="docutils literal notranslate"><span class="pre">file_name</span></code>. These parameters allow the location of a failing chaeck to be included in the error
message. This is furter described in the <a class="reference internal" href="../logging/user_guide.html"><span class="doc">log user guide</span></a>.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">expr</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="acting-on-failing-checks">
<h3>Acting on Failing Checks<a class="headerlink" href="#acting-on-failing-checks" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">check</span></code> subprogram described so far doesn’t reveal whether the check passed or failed. If you want that
information to control the flow of your test, and your testbench is setup to continue on a failing check, you have a
number of options. You can use the check functions which return <code class="docutils literal notranslate"><span class="pre">true</span></code> on a passing check and <code class="docutils literal notranslate"><span class="pre">false</span></code> when they
fail.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">check</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">expr</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</pre></div>
</div>
<p>Or you can use check procedures with a boolean <code class="docutils literal notranslate"><span class="pre">pass</span></code> output returning the same information.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">variable</span><span class="w"> </span><span class="n">pass</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">expr</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Or you can use any of the following subprograms to get more details.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_checker_stat</span><span class="p">[(</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">);]</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">checker_stat_t</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">get_checker_stat</span><span class="w"> </span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">variable</span><span class="w"> </span><span class="n">stat</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">checker_stat_t</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">checker_stat_t</span></code> is a record containing pass/fail information:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">type</span><span class="w"> </span><span class="n">checker_stat_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">record</span>
<span class="w">  </span><span class="n">n_checks</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>
<span class="w">  </span><span class="n">n_failed</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>
<span class="w">  </span><span class="n">n_passed</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>
<span class="k">end</span><span class="w"> </span><span class="k">record</span><span class="p">;</span>
</pre></div>
</div>
<p>Note that a check subprogram with multiple internal checks may generate multiple error messages if it’s configured not
to stop on error. Each of these errors will result in the values of both <code class="docutils literal notranslate"><span class="pre">n_checks</span></code> and <code class="docutils literal notranslate"><span class="pre">n_failed</span></code> increasing by
one. However, if the check passes, <code class="docutils literal notranslate"><span class="pre">n_checks</span></code> and <code class="docutils literal notranslate"><span class="pre">n_passed</span></code> will only be increased by one. The rationale behind
this is identical to that of the single-pass message approach, which seeks to prevent any discrepancies between the
number of passing check subprogram calls and the associated statistical data.</p>
</section>
<section id="managing-checker-statistics">
<h3>Managing Checker Statistics<a class="headerlink" href="#managing-checker-statistics" title="Link to this heading">¶</a></h3>
<p>A checker will continuously update its statistics counters as new check subprograms are called. If you want to collect
the statistics for parts of your test you can make intermediate readouts using the <code class="docutils literal notranslate"><span class="pre">get_checker_stat</span></code> subprograms and
then reset the counters to zero using:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">reset_checker_stat</span><span class="w"> </span><span class="p">[(</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">)];</span>
</pre></div>
</div>
<p>Another way of collecting statistics for different parts is to use several separate checkers.</p>
<p>Variables of type <code class="docutils literal notranslate"><span class="pre">checker_stat_t</span></code> can be added to or subtracted from each other using the normal <code class="docutils literal notranslate"><span class="pre">-</span></code> and <code class="docutils literal notranslate"><span class="pre">+</span></code>
operators. There is also a <code class="docutils literal notranslate"><span class="pre">to_string</span></code> function defined to allow for logging/reporting of statistics, for example</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">info</span><span class="p">(</span><span class="n">to_string</span><span class="p">(</span><span class="n">get_checker_stat</span><span class="p">));</span>
</pre></div>
</div>
</section>
<section id="postponed-check-actions">
<h3>Postponed Check Actions<a class="headerlink" href="#postponed-check-actions" title="Link to this heading">¶</a></h3>
<p>The action taken on a failing check is usually to create a log, as demonstrated in the preceding chapters. It is also
possible to postpone the action by separating it from the fail/pass analysis of the check. Doing so provides us with an
opportunity to complete other tasks before finalizing the check even if an error leads to a simulation stop.</p>
<p>This postponed approach is based on a check function which returns a <code class="docutils literal notranslate"><span class="pre">check_result_t</span></code> type:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">check</span><span class="p">(</span>
<span class="w">   </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">expr</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="n">check_result_t</span><span class="p">;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">check_result_t</span></code> type contains all the necessary information to perform a log action at a later point in time.
This is achieved with the <code class="docutils literal notranslate"><span class="pre">log</span></code> function, which takes the <code class="docutils literal notranslate"><span class="pre">check_result_t</span></code> as its only parameter. As an example,</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_result</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Checking that read enable is active&quot;</span><span class="p">);</span>

<span class="c1">-- Perform custom tasks</span>

<span class="n">log</span><span class="p">(</span><span class="n">check_result</span><span class="p">);</span>
</pre></div>
</div>
<p>In addition to the log action, another predefined action, <code class="docutils literal notranslate"><span class="pre">notify_if_fail</span></code>, is available. This action triggers a
notification event when a check fails, allowing remote event observers to take appropriate actions. After raising this
notification, <code class="docutils literal notranslate"><span class="pre">notify_if_fail</span></code> will then call <code class="docutils literal notranslate"><span class="pre">log</span></code> on the result of the check.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">notify_if_fail</span><span class="p">(</span><span class="n">check</span><span class="p">(</span><span class="n">re</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Checking that read enable is active&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">vunit_error</span><span class="p">);</span>
</pre></div>
</div>
<p>For more information about how to use <code class="docutils literal notranslate"><span class="pre">notify_if_fail</span></code> in your test, please refer to the <a class="reference internal" href="../data_types/event_user_guide.html"><span class="doc">event user guide</span></a>.</p>
<p>When separating the action from the analysis there is a risk that the user forgets to call the action procedure after
the custom tasks have been performed. To prevent that such a mistake leads to an undetected error, VUnit keeps track of
all postponed actions that have yet to be handled. If, during the execution of a check, an error is detected and no
postponed action is performed, then the <code class="docutils literal notranslate"><span class="pre">test_runner_cleanup</span></code> procedure will fail with an “unhandled checks” error.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The postponed check action is currently available for a limited set of sequential checks. See the <a class="reference internal" href="check_api.html#check-api"><span class="std std-ref">check API</span></a> for the latest status.</p>
</div>
</section>
</section>
<section id="check-types">
<h2>Check Types<a class="headerlink" href="#check-types" title="Link to this heading">¶</a></h2>
<p>In addition to the basic <code class="docutils literal notranslate"><span class="pre">check</span></code> subprograms the check library also provides a number of more specialized checks.
These checks can be divided into four different types:</p>
<ul class="simple">
<li><p>Point checks</p></li>
<li><p>Relation checks</p></li>
<li><p>Sequential checks</p></li>
<li><p>Unconditional checks</p></li>
</ul>
<p>These types and the checks belonging to each type are described in the following chapters.</p>
<section id="point-checks">
<h3>Point Checks<a class="headerlink" href="#point-checks" title="Link to this heading">¶</a></h3>
<p>Common to all point checks is that the condition for failure is evaluated at a single point in time, either when the
subprogram is called as part of sequential code or synchronous to a clock in a clocked, usually concurrent procedure
call. There are six unclocked versions of each point check, corresponding to the two boolean functions and four
procedures previously described for <code class="docutils literal notranslate"><span class="pre">check</span></code>. The only difference in the respective parameter lists is that the boolean
<code class="docutils literal notranslate"><span class="pre">expr</span></code> parameter is replaced by one or more parameters specific to the point check.</p>
<p>The unclocked procedures have the following format. The four variants comes from the different combinations of using the
two first optional parameters.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check</span><span class="o">&lt;</span><span class="n">_name</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="p">[</span><span class="k">variable</span><span class="w"> </span><span class="n">pass</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;]</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">specific</span><span class="w"> </span><span class="n">parameters</span><span class="o">&gt;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="o">&lt;</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The boolean functions have the following format.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">check</span><span class="o">&lt;</span><span class="n">_name</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">  </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">specific</span><span class="w"> </span><span class="n">parameters</span><span class="o">&gt;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="o">&lt;</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</pre></div>
</div>
<p>The clocked procedures follow a format with and without the optional <code class="docutils literal notranslate"><span class="pre">checker</span></code> parameter. These procedures are also
available for <code class="docutils literal notranslate"><span class="pre">check</span></code>.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check</span><span class="o">&lt;</span><span class="n">_name</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">clock</span><span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">en</span><span class="w">                  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">specific</span><span class="w"> </span><span class="n">parameters</span><span class="o">&gt;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="o">&lt;</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">)</span><span class="o">&gt;</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">active_clock_edge</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">edge_t</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">          </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">edge_t</span></code> is an enumerated type:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">type</span><span class="w"> </span><span class="n">edge_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="p">(</span><span class="n">rising_edge</span><span class="p">,</span><span class="w"> </span><span class="n">falling_edge</span><span class="p">,</span><span class="w"> </span><span class="n">both_edges</span><span class="p">);</span>
</pre></div>
</div>
<p>The condition for failure is continuously evaluated on the clock edge(s) specified by <code class="docutils literal notranslate"><span class="pre">active_clock_edge</span></code>, so long as
<code class="docutils literal notranslate"><span class="pre">en</span> <span class="pre">=</span> <span class="pre">'1'</span></code>. For constant evaluation of the check procedure, you can tie the <code class="docutils literal notranslate"><span class="pre">en</span></code> input to the predefined <code class="docutils literal notranslate"><span class="pre">check_enabled</span></code> signal.</p>
<p>The figure below shows an example using the concurrent version of <code class="docutils literal notranslate"><span class="pre">check</span></code>.</p>
<figure class="align-center">
<img alt="" src="../_images/check_true.png" />
</figure>
<p><code class="docutils literal notranslate"><span class="pre">expr</span></code> is evaluated on every rising clock edge, except when <code class="docutils literal notranslate"><span class="pre">en</span></code> is low on edge 3. This means the check will pass
despite the false <code class="docutils literal notranslate"><span class="pre">expr</span></code> in the third clock cycle.</p>
<section id="true-check-check-and-check-true">
<h4>(True) Check (check and check_true)<a class="headerlink" href="#true-check-check-and-check-true" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>expr</p></td>
<td><p>boolean or std_logic</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_true</span></code> is a more verbose alternative to <code class="docutils literal notranslate"><span class="pre">check</span></code> which clearly expresses the expectation that the <code class="docutils literal notranslate"><span class="pre">expr</span></code>
evaluates to <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, or <code class="docutils literal notranslate"><span class="pre">H</span></code>. The extra verbosity is also present when the <code class="docutils literal notranslate"><span class="pre">result</span></code> function is used.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check</span><span class="p">(</span><span class="n">false</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;for my data.&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will result in</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - ERROR - Check failed for my data.</span>
</pre></div>
</div>
<p>while</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_true</span><span class="p">(</span><span class="n">false</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;for my data.&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will result in</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - ERROR - True check failed for my data.</span>
</pre></div>
</div>
</section>
<section id="false-check-check-false">
<h4>False Check (check_false)<a class="headerlink" href="#false-check-check-false" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>expr</p></td>
<td><p>boolean or std_logic</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_false</span></code> passes when <code class="docutils literal notranslate"><span class="pre">expr</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code>, or <code class="docutils literal notranslate"><span class="pre">L</span></code>.</p>
</section>
<section id="implication-check-check-implication">
<h4>Implication Check (check_implication)<a class="headerlink" href="#implication-check-check-implication" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>antecedent_expr</p></td>
<td><p>boolean or std_logic</p></td>
</tr>
<tr class="row-odd"><td><p>consequent_expr</p></td>
<td><p>boolean or std_logic</p></td>
</tr>
</tbody>
</table>
</div>
<p>The unclocked subprograms use <code class="docutils literal notranslate"><span class="pre">boolean</span></code> parameters while the clocked procedures use <code class="docutils literal notranslate"><span class="pre">std_logic</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">check_implication</span></code> checks logical implication and passes unless <code class="docutils literal notranslate"><span class="pre">antecedent_expr</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, or <code class="docutils literal notranslate"><span class="pre">H</span></code> when
<code class="docutils literal notranslate"><span class="pre">consequent_expr</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code>, or <code class="docutils literal notranslate"><span class="pre">L</span></code>.</p>
</section>
<section id="not-unknown-check-check-not-unknown">
<h4>Not Unknown Check (check_not_unknown)<a class="headerlink" href="#not-unknown-check-check-not-unknown" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>expr</p></td>
<td><p>std_logic_vector or std_logic</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_not_unknown</span></code> passes when <code class="docutils literal notranslate"><span class="pre">expr</span></code> contains none of the metavalues <code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">W</span></code>, or <code class="docutils literal notranslate"><span class="pre">-</span></code>.</p>
</section>
<section id="zero-one-hot-check-check-zero-one-hot">
<h4>Zero One-Hot Check (check_zero_one_hot)<a class="headerlink" href="#zero-one-hot-check-check-zero-one-hot" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>expr</p></td>
<td><p>std_logic_vector</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_zero_one_hot</span></code> passes when <code class="docutils literal notranslate"><span class="pre">expr</span></code> contains none of the metavalues <code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">W</span></code>, or <code class="docutils literal notranslate"><span class="pre">-</span></code> and
there are zero or one bit equal to <code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">H</span></code> .</p>
</section>
<section id="one-hot-check-check-one-hot">
<h4>One-Hot Check (check_one_hot)<a class="headerlink" href="#one-hot-check-check-one-hot" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>expr</p></td>
<td><p>std_logic_vector</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_one_hot</span></code> passes when <code class="docutils literal notranslate"><span class="pre">expr</span></code> contains none of the metavalues <code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">W</span></code>, or <code class="docutils literal notranslate"><span class="pre">-</span></code> and there is
exactly one bit equal to <code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">H</span></code> .</p>
</section>
</section>
<section id="relation-checks">
<h3>Relation Checks<a class="headerlink" href="#relation-checks" title="Link to this heading">¶</a></h3>
<p>Relation checks are used to check whether or not a relation holds between two expressions, for example if <code class="docutils literal notranslate"><span class="pre">(a</span> <span class="pre">+</span> <span class="pre">b)</span> <span class="pre">=</span>
<span class="pre">c</span></code>. They support the following six unclocked formats.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check_</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w"> </span><span class="p">[</span><span class="k">variable</span><span class="w"> </span><span class="n">pass</span><span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;]</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">specific</span><span class="w"> </span><span class="n">parameters</span><span class="o">&gt;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">preprocessor</span><span class="w"> </span><span class="n">parameters</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">check_</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">specific</span><span class="w"> </span><span class="n">parameters</span><span class="o">&gt;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">preprocessor</span><span class="w"> </span><span class="n">parameters</span><span class="o">&gt;</span><span class="p">)</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</pre></div>
</div>
<section id="equality-check-check-equal">
<span id="equality-check"></span><h4>Equality Check (check_equal)<a class="headerlink" href="#equality-check-check-equal" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>got</p></td>
</tr>
<tr class="row-odd"><td><p>expected</p></td>
</tr>
</tbody>
</table>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">got</span></code> and <code class="docutils literal notranslate"><span class="pre">expected</span></code> parameters can have the following combinations of types:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>got</p></th>
<th class="head"><p>expected</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>unsigned</p></td>
<td><p>unsigned</p></td>
</tr>
<tr class="row-odd"><td><p>natural</p></td>
<td><p>unsigned</p></td>
</tr>
<tr class="row-even"><td><p>unsigned</p></td>
<td><p>natural</p></td>
</tr>
<tr class="row-odd"><td><p>natural</p></td>
<td><p>std_logic_vector</p></td>
</tr>
<tr class="row-even"><td><p>std_logic_vector</p></td>
<td><p>natural</p></td>
</tr>
<tr class="row-odd"><td><p>std_logic_vector</p></td>
<td><p>std_logic_vector</p></td>
</tr>
<tr class="row-even"><td><p>std_logic_vector</p></td>
<td><p>unsigned</p></td>
</tr>
<tr class="row-odd"><td><p>unsigned</p></td>
<td><p>std_logic_vector</p></td>
</tr>
<tr class="row-even"><td><p>signed</p></td>
<td><p>signed</p></td>
</tr>
<tr class="row-odd"><td><p>integer</p></td>
<td><p>signed</p></td>
</tr>
<tr class="row-even"><td><p>signed</p></td>
<td><p>integer</p></td>
</tr>
<tr class="row-odd"><td><p>integer</p></td>
<td><p>integer</p></td>
</tr>
<tr class="row-even"><td><p>std_logic</p></td>
<td><p>std_logic</p></td>
</tr>
<tr class="row-odd"><td><p>boolean</p></td>
<td><p>std_logic</p></td>
</tr>
<tr class="row-even"><td><p>std_logic</p></td>
<td><p>boolean</p></td>
</tr>
<tr class="row-odd"><td><p>boolean</p></td>
<td><p>boolean</p></td>
</tr>
<tr class="row-even"><td><p>time</p></td>
<td><p>time</p></td>
</tr>
<tr class="row-odd"><td><p>string</p></td>
<td><p>string</p></td>
</tr>
<tr class="row-even"><td><p>character</p></td>
<td><p>character</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Preprocessor Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>line_num</p></td>
<td><p>natural</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>file_name</p></td>
<td><p>string</p></td>
<td><p>“”</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_equal</span></code> passes when <code class="docutils literal notranslate"><span class="pre">got</span></code> equals <code class="docutils literal notranslate"><span class="pre">expected</span></code>. When comparing <code class="docutils literal notranslate"><span class="pre">std_logic</span></code> values with <code class="docutils literal notranslate"><span class="pre">boolean</span></code> values
<code class="docutils literal notranslate"><span class="pre">1</span></code> equals <code class="docutils literal notranslate"><span class="pre">true</span></code> and all other <code class="docutils literal notranslate"><span class="pre">std_logic</span></code> values equal <code class="docutils literal notranslate"><span class="pre">false</span></code>. Note that the <code class="docutils literal notranslate"><span class="pre">std_logic</span></code> don’t care (<code class="docutils literal notranslate"><span class="pre">-</span></code>)
only equals itself. If you want an equality like <code class="docutils literal notranslate"><span class="pre">&quot;0011&quot;</span> <span class="pre">=</span> <span class="pre">&quot;00--&quot;</span></code> to pass, you should use <code class="docutils literal notranslate"><span class="pre">check_relation</span></code> with the
matching equality operator (<code class="docutils literal notranslate"><span class="pre">?=</span></code>) or <code class="docutils literal notranslate"><span class="pre">check_match</span></code> instead.</p>
<p>If a check fails you will get a context on the following format.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Got &lt;got value&gt;. Expected &lt;expected value&gt;.</span>
</pre></div>
</div>
<p>When you compare bit vectors, <code class="docutils literal notranslate"><span class="pre">integer</span></code>, and <code class="docutils literal notranslate"><span class="pre">natural</span></code> type of values, the error message will output the values on
both formats. For example, here is a context when a <code class="docutils literal notranslate"><span class="pre">check_equal</span></code> between an <code class="docutils literal notranslate"><span class="pre">integer</span></code> and a <code class="docutils literal notranslate"><span class="pre">signed</span></code> value fails.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Got 17 (0001_0001). Expected 0001_0000 (16).</span>
</pre></div>
</div>
<section id="real-value-checks">
<h5>Real value checks<a class="headerlink" href="#real-value-checks" title="Link to this heading">¶</a></h5>
<p>Exact comparison of real values is often not desirable; therefore, there is a variant of <code class="docutils literal notranslate"><span class="pre">check_equal</span></code>, which takes an
argument <code class="docutils literal notranslate"><span class="pre">max_diff</span></code>. If the absolute difference between the received and expected values is larger than <code class="docutils literal notranslate"><span class="pre">max_diff</span></code>,
then the check fails.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">max_diff</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Passes</span>
<span class="n">check_equal</span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">max_diff</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="p">);</span><span class="w"> </span><span class="c1">-- Fails</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Equality check passed - Got abs (0.1 - 0.2) &lt;= 0.1.</span>
<span class="go">Equality check failed - Got abs (0.1 - 0.2) &gt; 0.05.</span>
</pre></div>
</div>
</section>
</section>
<section id="relation-check-check-relation">
<h4>Relation Check (check_relation)<a class="headerlink" href="#relation-check-check-relation" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>expr</p></td>
<td><p>boolean, std_ulogic, or bit</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Preprocessor Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>context_msg</p></td>
<td><p>string</p></td>
<td><p>“”</p></td>
</tr>
<tr class="row-odd"><td><p>line_num</p></td>
<td><p>natural</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>file_name</p></td>
<td><p>string</p></td>
<td><p>“”</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">expr</span></code> is intended to be a relational expression and three different types are supported. In case a matching
relational operator is used, the relation will return a <code class="docutils literal notranslate"><span class="pre">std_ulogic</span></code> or <code class="docutils literal notranslate"><span class="pre">bit</span></code> depending on the operands. All other
relations will return a <code class="docutils literal notranslate"><span class="pre">boolean</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">check_relation</span></code> passes when <code class="docutils literal notranslate"><span class="pre">expr</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">true</span></code> in the boolean case and to <code class="docutils literal notranslate"><span class="pre">1</span></code> in the <code class="docutils literal notranslate"><span class="pre">std_ulogic</span></code> and
<code class="docutils literal notranslate"><span class="pre">bit</span></code> cases. This means that the <code class="docutils literal notranslate"><span class="pre">boolean</span></code> case behaves just like <code class="docutils literal notranslate"><span class="pre">check</span></code> and <code class="docutils literal notranslate"><span class="pre">check_true</span></code>. The additional value
of this check comes when you enable the check preprocessor in your VUnit run script.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ui</span> <span class="o">=</span> <span class="n">VUnit</span><span class="o">.</span><span class="n">from_argv</span><span class="p">()</span>
<span class="n">ui</span><span class="o">.</span><span class="n">add_vhdl_builtins</span><span class="p">()</span>
<span class="n">ui</span><span class="o">.</span><span class="n">enable_check_preprocessing</span><span class="p">()</span>
</pre></div>
</div>
<p>The check preprocessor scans your code for calls to <code class="docutils literal notranslate"><span class="pre">check_relation</span></code> and then parses <code class="docutils literal notranslate"><span class="pre">expr</span></code> as a VHDL relation. From
that it will generate a context (<code class="docutils literal notranslate"><span class="pre">context_msg</span></code> parameter) describing how the relation failed. For example, the check</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_relation</span><span class="p">(</span><span class="n">real_time_clock</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Response too late&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will generate the following error message if it fails.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">1000 ps - check - ERROR - Response too late - Expected real_time_clock &lt;= timeout. Left is 23:15:06. Right is 23:15:04.</span>
</pre></div>
</div>
<p>This works for <strong>any</strong> type of relation between <strong>any</strong> types as long as the operator and the <code class="docutils literal notranslate"><span class="pre">to_string</span></code> function are
defined for the types involved. In the example above the operands are of a custom <code class="docutils literal notranslate"><span class="pre">clock_t</span></code> type for which both the
<code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> operator and the <code class="docutils literal notranslate"><span class="pre">to_string</span></code> function have been defined.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">context_msg</span></code> is the empty string by default, so without the check preprocessor, the error message will only
be the <code class="docutils literal notranslate"><span class="pre">msg</span></code> provided by the user.</p>
<section id="relations-with-side-effects">
<h5>Relations with Side Effects<a class="headerlink" href="#relations-with-side-effects" title="Link to this heading">¶</a></h5>
<p>The left and right hand sides of the relation are evaluated twice: once when the relation is initially evaluated, and
again to create the error message. Let’s say you have a call like this:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_relation</span><span class="p">(</span><span class="n">counter_to_verify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_and_increment_reference_counter</span><span class="p">(</span><span class="n">increment_with</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">));</span>
</pre></div>
</div>
<p>The reference counter will be incremented with 6, which is not what is expected from looking at the code.</p>
<p>Conclusion: Do not use impure functions in your expression. If you have an impure function you should call it once and
assign the value to a temporary variable before calling <code class="docutils literal notranslate"><span class="pre">check_relation</span></code>:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">ref_cnt</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">get_and_increment_reference_counter</span><span class="p">(</span><span class="n">increment_with</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">check_relation</span><span class="p">(</span><span class="n">counter_to_verify</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ref_cnt</span><span class="p">);</span>
</pre></div>
</div>
<p>In this case, where we have an equality relation, we can also use <code class="docutils literal notranslate"><span class="pre">check_equal</span></code>. This procedure has the left and right
hand operands separated in the call itself, thus eliminating the need for a second evaluation in order to create the
error message.</p>
</section>
<section id="fooling-the-parser">
<h5>Fooling the Parser<a class="headerlink" href="#fooling-the-parser" title="Link to this heading">¶</a></h5>
<p>The check preprocessor has a simplified parser to determine what the relation operator in the expression is, and what
the left and right hand operands are. For example, it knows that this is an inequality since <code class="docutils literal notranslate"><span class="pre">/=</span></code> is the only relational
operator on the “top-level”:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_relation</span><span class="p">((</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">/=</span><span class="w"> </span><span class="p">(</span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="p">));</span>
</pre></div>
</div>
<p>It also knows that this isn’t a relation since there’s no relational operator on the top-level:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_relation</span><span class="p">((</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
</pre></div>
</div>
<p>Such a call will result in a syntax error from the check preprocessor:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">SyntaxError: Failed to find relation in check_relation((a = b) and c)</span>
</pre></div>
</div>
<p>However, its knowledge about precedence is limited to parenthesis so it will not understand that this identical
expression isn’t a relation:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="n">check_relation</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">c</span><span class="p">);</span>
</pre></div>
</div>
<p>If this logical expression returns false, the check will generate an error message claiming that a relation failed and
that <code class="docutils literal notranslate"><span class="pre">a</span></code> was the left value and <code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">and</span> <span class="pre">c</span></code> was the right value.</p>
<p>Conclusion: Use <code class="docutils literal notranslate"><span class="pre">check_relation</span></code> for relations as intended!</p>
<p>It should also be noted that the parser can handle that there are relational operators within the check call but outside
of the <code class="docutils literal notranslate"><span class="pre">expr</span></code> parameter. For example, it won’t be fooled by the relational operators appearing within strings and
comments of a call.</p>
</section>
</section>
<section id="match-check-check-match">
<h4>Match Check (check_match)<a class="headerlink" href="#match-check-check-match" title="Link to this heading">¶</a></h4>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Specific Parameter</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>got</p></td>
</tr>
<tr class="row-odd"><td><p>expected</p></td>
</tr>
</tbody>
</table>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">got</span></code> and <code class="docutils literal notranslate"><span class="pre">expected</span></code> parameters can have the following combination of types</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>got</p></th>
<th class="head"><p>expected</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>unsigned</p></td>
<td><p>unsigned</p></td>
</tr>
<tr class="row-odd"><td><p>std_logic_vector</p></td>
<td><p>std_logic_vector</p></td>
</tr>
<tr class="row-even"><td><p>signed</p></td>
<td><p>signed</p></td>
</tr>
<tr class="row-odd"><td><p>std_logic</p></td>
<td><p>std_logic</p></td>
</tr>
</tbody>
</table>
</div>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Preprocessor Parameter</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>line_num</p></td>
<td><p>natural</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>file_name</p></td>
<td><p>string</p></td>
<td><p>“”</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_match</span></code> passes when <code class="docutils literal notranslate"><span class="pre">got</span></code> equals <code class="docutils literal notranslate"><span class="pre">expected</span></code> but differs from <code class="docutils literal notranslate"><span class="pre">check_equal</span></code> in that a don’t care (<code class="docutils literal notranslate"><span class="pre">-</span></code>)
bit equals anything.</p>
</section>
</section>
<section id="sequence-checks">
<h3>Sequence Checks<a class="headerlink" href="#sequence-checks" title="Link to this heading">¶</a></h3>
<p>Sequence checks are checks that use several clock cycles to determine
whether or not the desired property holds.</p>
<section id="stability-check-check-stable">
<h4>Stability Check (check_stable)<a class="headerlink" href="#stability-check-check-stable" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">check_stable</span></code> supports four different clocked formats. The <code class="docutils literal notranslate"><span class="pre">expr</span></code> parameter can be <code class="docutils literal notranslate"><span class="pre">std_logic</span></code> or
<code class="docutils literal notranslate"><span class="pre">std_logic_vector</span></code> and the call can be made with or without the initial custom checker parameter.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check_stable</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">clock</span><span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">en</span><span class="w">                  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">start_event</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">end_event</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">expr</span><span class="w">                </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">active_clock_edge</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">edge_t</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">allow_restart</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">boolean</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">          </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_stable</span></code> passes if the <code class="docutils literal notranslate"><span class="pre">expr</span></code> parameter is stable in the window defined by the <code class="docutils literal notranslate"><span class="pre">start_event</span></code> and
<code class="docutils literal notranslate"><span class="pre">end_event</span></code> parameters. The window starts at an active (as per <code class="docutils literal notranslate"><span class="pre">active_clock_edge</span></code>) and enabled (<code class="docutils literal notranslate"><span class="pre">en</span> <span class="pre">=</span> <span class="pre">'1'</span></code>)
clock edge for which <code class="docutils literal notranslate"><span class="pre">start_event</span> <span class="pre">=</span> <span class="pre">'1'</span></code> and it ends at the next active and enabled clock edge for which <code class="docutils literal notranslate"><span class="pre">end_event</span> <span class="pre">=</span>
<span class="pre">'1'</span></code>. <code class="docutils literal notranslate"><span class="pre">expr</span></code> is sampled for a reference value at the start event and is considered stable if it keeps that reference
value at all enabled and active clock edges within the window, including the clock edge for the end event. Bits within
<code class="docutils literal notranslate"><span class="pre">expr</span></code> may change drive strength (between <code class="docutils literal notranslate"><span class="pre">'0'</span></code> and <code class="docutils literal notranslate"><span class="pre">'L'</span></code> or between <code class="docutils literal notranslate"><span class="pre">'1'</span></code> and <code class="docutils literal notranslate"><span class="pre">'H'</span></code>) and still be considered
stable. Below is an example with two windows that will pass.</p>
<figure class="align-center">
<img alt="" src="../_images/check_stable_passing.png" />
</figure>
<p>Here are two examples of failing checks. Note that any unknown value (<code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">W</span></code>, or <code class="docutils literal notranslate"><span class="pre">-</span></code>) will cause
the check to fail even if the unknown value is constant. The check will also fail if either <code class="docutils literal notranslate"><span class="pre">start_event</span></code> or
<code class="docutils literal notranslate"><span class="pre">end_event</span></code> has an unknown value in the active window.</p>
<figure class="align-center">
<img alt="" src="../_images/check_stable_failing.png" />
</figure>
<p><code class="docutils literal notranslate"><span class="pre">check_stable</span></code> can handle one clock cycle windows and back-to-back windows.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">allow_restart</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, <code class="docutils literal notranslate"><span class="pre">check_stable</span></code> will ignore additional start events in the window. When
<code class="docutils literal notranslate"><span class="pre">allow_restart</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> a new window is started if a new start event appears before the end event. The previous
window is implicitly closed in the clock cycle before the new start event. An end event will still close the window if
it appears before a second start event.</p>
</section>
<section id="next-check-check-next">
<h4>Next Check (check_next)<a class="headerlink" href="#next-check-check-next" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">check_next</span></code> supports two different formats. One with and one without the initial custom checker parameter.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check_next</span><span class="p">(</span>
<span class="w">  </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">   </span><span class="k">signal</span><span class="w"> </span><span class="n">clock</span><span class="w">                 </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">   </span><span class="k">signal</span><span class="w"> </span><span class="n">en</span><span class="w">                    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">   </span><span class="k">signal</span><span class="w"> </span><span class="n">start_event</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">   </span><span class="k">signal</span><span class="w"> </span><span class="n">expr</span><span class="w">                  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">                 </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">num_cks</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">allow_overlapping</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">boolean</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">allow_missing_start</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">boolean</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">active_clock_edge</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="n">edge_t</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">   </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">    </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_next</span></code> passes if <code class="docutils literal notranslate"><span class="pre">expr</span> <span class="pre">=</span> <span class="pre">'1'</span></code> <code class="docutils literal notranslate"><span class="pre">num_cks</span></code> active (as per <code class="docutils literal notranslate"><span class="pre">active_clock_edge</span></code>) and enabled (<code class="docutils literal notranslate"><span class="pre">en</span> <span class="pre">=</span> <span class="pre">'1'</span></code>)
clock edges after a start event. The start event is defined by an active and enabled clock edge for which <code class="docutils literal notranslate"><span class="pre">start_event</span>
<span class="pre">=</span> <span class="pre">'1'</span></code>. Below is an example of a passing check. The start event is sampled at clock edge two and <code class="docutils literal notranslate"><span class="pre">expr</span></code> is expected
to be high four enabled clock edges after that which is at clock edge seven due to <code class="docutils literal notranslate"><span class="pre">en</span></code> being low at clock edge five.</p>
<figure class="align-center">
<img alt="" src="../_images/check_next_passing.png" />
</figure>
<p>When <code class="docutils literal notranslate"><span class="pre">allow_overlapping</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">check_next</span></code> will allow a new start event before the check based on the
previous start event has been completed. Here is an example with two overlapping and passing sequences.</p>
<figure class="align-center">
<img alt="" src="../_images/check_next_passing_with_overlap.png" />
</figure>
<p>In case <code class="docutils literal notranslate"><span class="pre">allow_overlapping</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, <code class="docutils literal notranslate"><span class="pre">check_next</span></code> will fail at the second start event.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">allow_missing_start</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">check_next</span></code> will allow <code class="docutils literal notranslate"><span class="pre">expr</span> <span class="pre">=</span> <span class="pre">'1'</span></code> when there is no corresponding start
event. When <code class="docutils literal notranslate"><span class="pre">allow_missing_start</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, such a situation will lead to a failure. Here is an example where
<code class="docutils literal notranslate"><span class="pre">expr</span></code> is at <code class="docutils literal notranslate"><span class="pre">'1'</span></code> for one cycles with no corresponding start event.</p>
<figure class="align-center">
<img alt="" src="../_images/check_next_passing_with_missing_start.png" />
</figure>
<p>Any unknown value  (<code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">W</span></code>, or <code class="docutils literal notranslate"><span class="pre">-</span></code>) on <code class="docutils literal notranslate"><span class="pre">start_event</span></code> will cause an error.</p>
<p><code class="docutils literal notranslate"><span class="pre">check_next</span></code> will handle the weak values <code class="docutils literal notranslate"><span class="pre">L</span></code> and <code class="docutils literal notranslate"><span class="pre">H</span></code> in the same way as <code class="docutils literal notranslate"><span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">1</span></code>, respectively.</p>
</section>
<section id="sequence-check-check-sequence">
<h4>Sequence Check (check_sequence)<a class="headerlink" href="#sequence-check-check-sequence" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">check_sequence</span></code> supports two different formats. One with and one without the initial custom checker parameter.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check_sequence</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">             </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">clock</span><span class="w">                 </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">en</span><span class="w">                    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="w">  </span><span class="k">signal</span><span class="w"> </span><span class="n">event_sequence</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">                 </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">          </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">trigger_event</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">trigger_event_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">penultimate</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">               </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">active_clock_edge</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">edge_t</span><span class="w">          </span><span class="o">:=</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">         </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">            </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">         </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">          </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">check_sequence</span></code> checks whether a series of events, represented by the bits in the <code class="docutils literal notranslate"><span class="pre">event_sequence</span></code> parameter, are
activated (with bit values of <code class="docutils literal notranslate"><span class="pre">'1'</span></code> or <code class="docutils literal notranslate"><span class="pre">'H'</span></code>) in order at consecutive active (as per <code class="docutils literal notranslate"><span class="pre">active_clock_edge</span></code>) and
enabled (<code class="docutils literal notranslate"><span class="pre">en</span> <span class="pre">=</span> <span class="pre">'1'</span></code>) clock edges. Furthermore, the behavior of the procedure can be changed based on the argument
<code class="docutils literal notranslate"><span class="pre">trigger_event</span></code> which has three distinct options for operation.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">first_pipe</span></code> - The sequence is started when the leftmost bit of <code class="docutils literal notranslate"><span class="pre">event_sequence</span></code> is activated. This will also
trigger <code class="docutils literal notranslate"><span class="pre">check_sequence</span></code> to verify that the remaining bits are activated at the following active and enabled clock
edges. <code class="docutils literal notranslate"><span class="pre">check_sequence</span></code> will also verify new sequences starting before the first is completed.</p></li>
</ul>
<p>The figure below shows two overlapping sequences that pass:</p>
<figure class="align-center">
<img alt="" src="../_images/check_sequence_first_pipe_passing.png" />
</figure>
<p>In this example the sequence is started but not completed and the check fails:</p>
<figure class="align-center">
<img alt="" src="../_images/check_sequence_first_pipe_failing.png" />
</figure>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">first_no_pipe</span></code> - Same as <code class="docutils literal notranslate"><span class="pre">first_pipe</span></code> with the exception that only one sequence is verified at a time. New
sequences starting before the previous is verified will be ignored.</p></li>
</ul>
<p>In this example we have two sequences: the first is completed while the second is interrupted. However, since only one
sequence is handled at a time, the second is ignored and the check pass.</p>
<figure class="align-center">
<img alt="" src="../_images/check_sequence_first_no_pipe_passing.png" />
</figure>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">penultimate</span></code> - The difference with the previous modes is that <code class="docutils literal notranslate"><span class="pre">check_sequence</span></code> only verifies the last event (the
rightmost bit) when all the preceding events in the sequence have been activated. This means that a started sequence
that is interrupted before the second to last bit is activated will pass. <code class="docutils literal notranslate"><span class="pre">check_sequence</span></code> will also verify new
sequences starting before the first is completed.</p></li>
</ul>
<p>The figure below shows two overlapping sequences which pass and then an early interrupted sequence that doesn’t cause a
failure in this mode (which it did in the example for the <code class="docutils literal notranslate"><span class="pre">first_pipe</span></code> mode).</p>
<figure class="align-center">
<img alt="" src="../_images/check_sequence_penultimate_passing.png" />
</figure>
<p>In this example the sequence is interrupted after the second to last bit is activated and the check fails.</p>
<figure class="align-center">
<img alt="" src="../_images/check_sequence_penultimate_failing.png" />
</figure>
<p>Any unknown values (<code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">X</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">W</span></code>, or <code class="docutils literal notranslate"><span class="pre">-</span></code>) in <code class="docutils literal notranslate"><span class="pre">event_sequence</span></code> will lead to a an error. This is
regardless of the mode of operation.</p>
</section>
</section>
<section id="unconditional-checks">
<h3>Unconditional Checks<a class="headerlink" href="#unconditional-checks" title="Link to this heading">¶</a></h3>
<p>The check library has two unconditional checks, <code class="docutils literal notranslate"><span class="pre">check_passed</span></code> and <code class="docutils literal notranslate"><span class="pre">check_failed</span></code>, that have no expression
parameter to evaluate. They are used when the pass/fail status is already given by the program flow. For example,</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="o">&lt;</span><span class="n">some</span><span class="w"> </span><span class="n">condition</span><span class="o">&gt;</span><span class="w"> </span><span class="k">then</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">do</span><span class="w"> </span><span class="n">something</span><span class="o">&gt;</span>
<span class="w">  </span><span class="n">check_passed</span><span class="p">;</span>
<span class="k">else</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">do</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="k">else</span><span class="o">&gt;</span>
<span class="w">  </span><span class="n">check_failed</span><span class="p">(</span><span class="s">&quot;This was not expected&quot;</span><span class="p">);</span>
<span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="p">;</span>
</pre></div>
</div>
<p>With no <code class="docutils literal notranslate"><span class="pre">expr</span></code> parameter there are also fewer usable formats for these checkers.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check_passed</span><span class="p">(</span>
<span class="w">  </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">check_failed</span><span class="p">(</span>
<span class="w"> </span><span class="p">[</span><span class="k">constant</span><span class="w"> </span><span class="n">checker</span><span class="w">     </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checker_t</span><span class="p">;]</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">msg</span><span class="w">         </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="n">result</span><span class="p">(</span><span class="s">&quot;.&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">level</span><span class="w">       </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">line_num</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">natural</span><span class="w">     </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">file_name</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">string</span><span class="w">      </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="check_api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><em>check</em> package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../logging/user_guide.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Logging Library User Guide</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2014-2024, Lars Asplund
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link fa-solid fa-brands fa-twitter" href="https://twitter.com/VUnitFramework" aria-label="Twitter @VUnitFramework"></a>
              <a class="muted-link fa-solid fa-brands fa-gitter" href="https://gitter.im/VUnit/vunit" aria-label="Gitter VUnit/vunit"></a>
              <a class="muted-link fa-solid fa-brands fa-github" href="https://github.com/VUnit/vunit" aria-label="GitHub VUnit/vunit"></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Check Library User Guide</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#architecture">Architecture</a></li>
<li><a class="reference internal" href="#checker-creation">Checker Creation</a></li>
<li><a class="reference internal" href="#check">Check</a><ul>
<li><a class="reference internal" href="#logging-passing-checks">Logging Passing Checks</a></li>
<li><a class="reference internal" href="#message-format">Message Format</a></li>
<li><a class="reference internal" href="#check-location">Check Location</a></li>
<li><a class="reference internal" href="#acting-on-failing-checks">Acting on Failing Checks</a></li>
<li><a class="reference internal" href="#managing-checker-statistics">Managing Checker Statistics</a></li>
<li><a class="reference internal" href="#postponed-check-actions">Postponed Check Actions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#check-types">Check Types</a><ul>
<li><a class="reference internal" href="#point-checks">Point Checks</a><ul>
<li><a class="reference internal" href="#true-check-check-and-check-true">(True) Check (check and check_true)</a></li>
<li><a class="reference internal" href="#false-check-check-false">False Check (check_false)</a></li>
<li><a class="reference internal" href="#implication-check-check-implication">Implication Check (check_implication)</a></li>
<li><a class="reference internal" href="#not-unknown-check-check-not-unknown">Not Unknown Check (check_not_unknown)</a></li>
<li><a class="reference internal" href="#zero-one-hot-check-check-zero-one-hot">Zero One-Hot Check (check_zero_one_hot)</a></li>
<li><a class="reference internal" href="#one-hot-check-check-one-hot">One-Hot Check (check_one_hot)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relation-checks">Relation Checks</a><ul>
<li><a class="reference internal" href="#equality-check-check-equal">Equality Check (check_equal)</a><ul>
<li><a class="reference internal" href="#real-value-checks">Real value checks</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relation-check-check-relation">Relation Check (check_relation)</a><ul>
<li><a class="reference internal" href="#relations-with-side-effects">Relations with Side Effects</a></li>
<li><a class="reference internal" href="#fooling-the-parser">Fooling the Parser</a></li>
</ul>
</li>
<li><a class="reference internal" href="#match-check-check-match">Match Check (check_match)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sequence-checks">Sequence Checks</a><ul>
<li><a class="reference internal" href="#stability-check-check-stable">Stability Check (check_stable)</a></li>
<li><a class="reference internal" href="#next-check-check-next">Next Check (check_next)</a></li>
<li><a class="reference internal" href="#sequence-check-check-sequence">Sequence Check (check_sequence)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unconditional-checks">Unconditional Checks</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>