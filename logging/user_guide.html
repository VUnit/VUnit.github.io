<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="../about.html"><link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="Check Library User Guide" href="../check/user_guide.html"><link rel="prev" title="Identity Package" href="../id/user_guide.html">
        <link rel="prefetch" href="../_static/VUnit_logo.png" as="image">

    <link rel="shortcut icon" href="../_static/vunit.ico"><!-- Generated with Sphinx 7.3.7 and Furo 2025.12.19 -->
        <title>Logging Library User Guide - VUnit documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=7bdb33bb" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/fontawesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/solid.min.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/brands.min.css" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">VUnit  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/VUnit_logo.png" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../blog/index.html">Blog</a><input aria-label="Toggle navigation of Blog" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../blog/2023_08_26_vhdl_configurations.html">Improved Support for VHDL Configurations and OSVVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2023_04_01_vunit_phases.html">VUnit Phases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2023_03_31_vunit_events.html">VUnit Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2022_09_19_vunit_user_conference.html">VUnit User Conference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2022_09_06_vunit_and_other_frameworks.html">FAQ What is VUnit’s Relation to Other Verification Frameworks?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2020_08_12_continuous_integration_with_vunit_action_in_10_lines_of_code.html">Continuous Integration With VUnit Action in 10 Lines of Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_09_22_sigasi_adds_full_vunit_support.html">Sigasi Adds Full VUnit Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_07_22_sigasi_deepens_its_commitment_to_the_vunit_testing_framework.html">Sigasi Deepens Its Commitment to the VUnit Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_03_22_vunit_community_developed_bfms.html">VUnit Community Developed BFMs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2018_02_12_vunit3.html">VUnit 3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_12_14_vunit_bfms_as_simple_as_emailing.html">VUnit BFMs - as Simple as Emailing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_11_23_vunit_matlab_integration.html">VUnit Matlab Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_11_07_vunit_3_0_while_waiting_for_vhdl_2017.html">VUnit 3.0 - While Waiting for VHDL-2017</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_10_31_vunit_3_0_color_logging.html">VUnit 3.0 Color Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_09_28_sigasi_adds_support_for_vunit_testing_framework.html">Sigasi Adds Support for VUnit Testing Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_06_03_enable_your_simulator_to_handle_complex_top_level_generics.html">Enable Your Simulator to Handle Complex Top-Level Generics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2017_01_12_vunit_getting_started_1_2_3.html">VUnit - Getting Started 1-2-3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_11_22_vunit_the_best_value_for_initial_effort_part3.html">VUnit - The Best Value for Initial Effort - Part 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_11_16_vunit_the_best_value_for_initial_effort_part2.html">VUnit - The Best Value for Initial Effort - Part 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_11_15_vunit_the_best_value_for_initial_effort_part1.html">VUnit - The Best Value for Initial Effort - Part 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_08_08_making_osvvm_a_submodule.html">Making OSVVM a Git Submodule</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_02_21_improving_vhdl_testbench_design_with_message_passing.html">Improving VHDL Testbench Design with Message Passing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_02_01_website_updates.html">Website Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_01_29_chat_with_vunit_users_and_developers.html">Chat with VUnit Users and Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2016_01_26_welcome_to_our_new_website.html">Welcome to Our New Website</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2015_12_15_free_and_open_source_verification_with_vunit_and_ghdl.html">Free and Open Source Verification with VUnit and GHDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2015_10_08_who_is_using_UVM.html">Who’s Using UVM (or Not) for FPGA Development, and Why?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blog/2015_09_24_short_introduction_to_vunit.html">Short Introduction to VUnit</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">What is VUnit?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testimonials/testimonials.html">Testimonials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../id/user_guide.html">Identity Package</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Logging Library User Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../check/user_guide.html">Check Library User Guide</a><input aria-label="Toggle navigation of Check Library User Guide" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../check/check_api.html"><em>check</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../check/checker_pkg.html"><em>checker</em> package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../run/user_guide.html">Run Library User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../com/user_guide.html">Communication Library User Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../verification_components/user_guide.html">Verification Components User Guide</a><input aria-label="Toggle navigation of Verification Components User Guide" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/memory_model.html">Memory Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html">Bus Master VCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html#stream-master-vci">Stream Master VCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html#stream-slave-vci">Stream Slave VCI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../verification_components/vci.html#synchronization-vci">Synchronization VCI</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../data_types/user_guide.html">Data Types User Guide</a><input aria-label="Toggle navigation of Data Types User Guide" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_types/event_user_guide.html">VUnit Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/queue.html"><em>queue</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/integer_array.html"><em>integer_array</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/ext_string.html"><em>external string</em> package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_types/ext_integer_vector.html"><em>external integer vector</em> package</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">Command Line Interface</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../py/ui.html">Python Interface</a><input aria-label="Toggle navigation of Python Interface" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../py/vunit.html">vunit.ui</a></li>
<li class="toctree-l2"><a class="reference internal" href="../py/opts.html">Compilation Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../py/opts.html#simulation-options">Simulation Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hdl_libraries.html">HDL Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Continuous Integration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ci/intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/script.html">Setup/configuration scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/container.html">Containers and/or Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/manual.html">Manual setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ci/usecases.html">Practical use cases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="https://github.com/VUnit/vunit/blob/master/docs/logging/user_guide.rst?plain=true" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div><div class="edit-this-page">
  <a class="muted-link" href="https://github.com/VUnit/vunit/edit/master/docs/logging/user_guide.rst" rel="edit" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="logging-library-user-guide">
<span id="logging-library"></span><h1>Logging Library User Guide<a class="headerlink" href="#logging-library-user-guide" title="Link to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>The VUnit logging library is used internally by VUnit for various
logging purposes but it can also be used standalone for general purpose
logging. It provides many of the features that you find in SW logging
frameworks. For example</p>
<ul class="simple">
<li><p>Logging of simple text messages with different pre-defined log levels</p></li>
<li><p>Can create hierarchical loggers which can be individually configured</p></li>
<li><p>Can be mocked to be able to unit-test failures from verification libraries</p></li>
<li><p>Configurable formatting of message output</p></li>
<li><p>Automatic file and line number tagging of output messages</p></li>
<li><p>File and stdout output channels with independent formatting and
visibility settings</p></li>
</ul>
</section>
<section id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Link to this heading">¶</a></h2>
<p>A log entry is made to a logger. You can think of a logger as a named
channel. There is a default logger that is used when none is specified
but you can also create multiple custom loggers. For example</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">);</span>
</pre></div>
</div></blockquote>
<p>will use the default logger while</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">info</span><span class="p">(</span><span class="n">my_logger</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hello world&quot;</span><span class="p">);</span>
</pre></div>
</div></blockquote>
<p>will use the custom <code class="docutils literal notranslate"><span class="pre">my_logger</span></code>. A custom logger is created
by declaring a constant or a variable of type <code class="docutils literal notranslate"><span class="pre">logger_t</span></code>.</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="k">constant</span><span class="w"> </span><span class="n">my_logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">get_logger</span><span class="p">(</span><span class="s">&quot;system0:uart0&quot;</span><span class="p">);</span>
</pre></div>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">get_logger</span></code> will internally create an identity for the name
provided in the call (see <a class="reference internal" href="../id/user_guide.html#id-user-guide"><span class="std std-ref">identity package</span></a>)
which means that the concept of name hierarchy is inherited by
loggers. In this case a logger will also be created for <code class="docutils literal notranslate"><span class="pre">system0</span></code>
if it didn’t already exist.</p>
<p>A logger can also be created directly from an identity.</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="k">constant</span><span class="w"> </span><span class="n">my_id</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">id_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">get_id</span><span class="p">(</span><span class="s">&quot;system0:uart0&quot;</span><span class="p">);</span>
<span class="k">constant</span><span class="w"> </span><span class="n">my_logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">get_logger</span><span class="p">(</span><span class="n">my_id</span><span class="p">);</span>
</pre></div>
</div></blockquote>
</section>
<section id="log-handlers">
<h2>Log Handlers<a class="headerlink" href="#log-handlers" title="Link to this heading">¶</a></h2>
<p>Log messages made to a logger are handled by a one or more log handlers
linked to that logger. By default, all loggers are linked to a handler for
the display output (stdout) but handlers can also be added for file output.
Every log entry to a logger is passed to the log handlers of the logger.
Each handler may have different output format and log level settings.
The format is used to control the layout and amount of information being displayed.</p>
</section>
<section id="log-levels">
<h2>Log Levels<a class="headerlink" href="#log-levels" title="Link to this heading">¶</a></h2>
<p>Every log entry you make has a log level which is defined by dedicated
procedure calls for each log level. The standard log levels and their
associated procedure calls are:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="c1">-- Visible to display by default</span>
<span class="n">failure</span><span class="p">(</span><span class="s">&quot;Fatal error, there is most likely no point in going further&quot;</span><span class="p">);</span>
<span class="n">error</span><span class="p">(</span><span class="s">&quot;An error but we could still keep running for a while&quot;</span><span class="p">);</span>
<span class="n">warning</span><span class="p">(</span><span class="s">&quot;A warning&quot;</span><span class="p">);</span>
<span class="n">info</span><span class="p">(</span><span class="s">&quot;Informative message for very useful public information&quot;</span><span class="p">);</span>

<span class="c1">-- Not visible by default</span>
<span class="n">pass</span><span class="p">(</span><span class="s">&quot;Message from a passing check&quot;</span><span class="p">);</span>
<span class="n">debug</span><span class="p">(</span><span class="s">&quot;Debug message for seldom useful or internal information&quot;</span><span class="p">);</span>
<span class="n">trace</span><span class="p">(</span><span class="s">&quot;Trace messages only used for tracing program flow&quot;</span><span class="p">);</span>
</pre></div>
</div></blockquote>
<p>There are also conditional log procedures for warning, error and failure:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">warning_if</span><span class="p">(</span><span class="n">True</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;A warning happened&quot;</span><span class="p">);</span>
<span class="n">warning_if</span><span class="p">(</span><span class="n">False</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;A warning did not happen&quot;</span><span class="p">);</span>

<span class="c1">-- There are also variants for error and failure as well as with</span>
<span class="c1">-- non-default logger argument.</span>
</pre></div>
</div></blockquote>
<p>It’s also possible to create custom log levels. For example</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="k">constant</span><span class="w"> </span><span class="n">license_info</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">new_log_level</span><span class="p">(</span><span class="s">&quot;license&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">fg</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">red</span><span class="p">,</span><span class="w"> </span><span class="n">bg</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">yellow</span><span class="p">,</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">bright</span><span class="p">);</span>
</pre></div>
</div></blockquote>
<p>The last optional parameters define the foreground, background and style of the output color.
Valid values are defined in ansi_pkg.</p>
<p>To make a log entry with the custom level use any of the <code class="docutils literal notranslate"><span class="pre">log</span></code> procedures:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">log</span><span class="p">(</span><span class="s">&quot;Mozilla Public License, v. 2.0.&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">license_info</span><span class="p">);</span>
<span class="n">log</span><span class="p">(</span><span class="n">my_logger</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Mozilla Public License, v. 2.0.&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">license_info</span><span class="p">);</span>
</pre></div>
</div></blockquote>
</section>
<section id="formatting">
<h2>Formatting<a class="headerlink" href="#formatting" title="Link to this heading">¶</a></h2>
<p>The default display format is <code class="docutils literal notranslate"><span class="pre">verbose</span></code> but he format can be
changed to any of <code class="docutils literal notranslate"><span class="pre">raw</span></code>, <code class="docutils literal notranslate"><span class="pre">level</span></code>, and <code class="docutils literal notranslate"><span class="pre">csv</span></code>.</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">set_format</span><span class="p">(</span><span class="n">display_handler</span><span class="p">,</span><span class="w"> </span><span class="n">level</span><span class="p">);</span>
<span class="n">info</span><span class="p">(</span><span class="s">&quot;Hello world&quot;</span><span class="p">);</span>
</pre></div>
</div></blockquote>
<p>which will result in the following output:</p>
<blockquote>
<div><div class="highlight" style="background: #002b36; color: #eee8d5;"><pre style="line-height: 125%; background: #002b36; color: #eee8d5;"><span style="font_weight: bold; color: #eee8d5; ">INFO</span> - Hello world
</pre></div>
</div></blockquote>
<p>The default <code class="docutils literal notranslate"><span class="pre">verbose</span></code> format which adds more details to the
output looks like this:</p>
<blockquote>
<div><div class="highlight" style="background: #002b36; color: #eee8d5;"><pre style="line-height: 125%; background: #002b36; color: #eee8d5;"><span style="color: #2aa198; ">123456 ps</span> - <span style="font_weight: bold; color: #eee8d5; ">default</span>              - <span style="font_weight: bold; color: #859900; ">WARNING</span> - Warnings are yellow
</pre></div>
</div></blockquote>
<p>The verbose output will always contain the simulator time, the log
level, the logger, and the message.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">raw</span></code> formatter just emits the log message and nothing else. The
<code class="docutils literal notranslate"><span class="pre">csv</span></code> formatter emits all information in the log entry as a comma
separated list for convenient parsing.</p>
<p>To enhance readability, the simulation time format can be specified by the <code class="docutils literal notranslate"><span class="pre">log_time_unit</span></code>
and <code class="docutils literal notranslate"><span class="pre">n_log_time_decimals</span></code> parameters to the <code class="docutils literal notranslate"><span class="pre">set_format</span></code> procedure. <code class="docutils literal notranslate"><span class="pre">log_time_unit</span></code>
controls the unit used for the simulation time and the default value is <code class="docutils literal notranslate"><span class="pre">native_time_unit</span></code>
which corresponds to the simulator’s resolution. Setting it to <code class="docutils literal notranslate"><span class="pre">auto_time_unit</span></code> will select
the unit based on the simulator time, following these rules:</p>
<ul class="simple">
<li><p>If simulation time is greater than or equal to 1 second: unit = <code class="docutils literal notranslate"><span class="pre">sec</span></code></p></li>
<li><p>If simulation time is less than 1 second: unit is chosen from <code class="docutils literal notranslate"><span class="pre">fs</span></code>, <code class="docutils literal notranslate"><span class="pre">ps</span></code>, <code class="docutils literal notranslate"><span class="pre">ns</span></code>, <code class="docutils literal notranslate"><span class="pre">us</span></code>,
and <code class="docutils literal notranslate"><span class="pre">ms</span></code> so that the numerical value falls within the range [1, 1000). For example,
<code class="docutils literal notranslate"><span class="pre">123456</span> <span class="pre">ps</span></code> will be displayed as (<code class="docutils literal notranslate"><span class="pre">n_log_time_decimals</span></code> = 3):</p></li>
</ul>
<blockquote>
<div><div class="highlight" style="background: #002b36; color: #eee8d5;"><pre style="line-height: 125%; background: #002b36; color: #eee8d5;"><span style="color: #2aa198; ">123.456 ns</span> - <span style="font_weight: bold; color: #eee8d5; ">check</span>                -   <span style="font_weight: bold; color: #cb4b16; ">ERROR</span> - Errors are red
</pre></div>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">log_time_unit</span></code> can also be set explicitly to <code class="docutils literal notranslate"><span class="pre">fs</span></code>, <code class="docutils literal notranslate"><span class="pre">ps</span></code>, <code class="docutils literal notranslate"><span class="pre">ns</span></code>, <code class="docutils literal notranslate"><span class="pre">us</span></code>, <code class="docutils literal notranslate"><span class="pre">ms</span></code>, or <code class="docutils literal notranslate"><span class="pre">sec</span></code>
as long as the value is greater than or equal to the simulator’s resolution. No other time values are allowed.</p>
<p><code class="docutils literal notranslate"><span class="pre">n_log_time_decimals</span></code> specifies the number of decimal places in the output. Setting it to
<code class="docutils literal notranslate"><span class="pre">full_time_resolution</span></code> will output the full resolution of the simulator. For instance, if the resolution is <code class="docutils literal notranslate"><span class="pre">ps</span></code>
and <code class="docutils literal notranslate"><span class="pre">log_time_unit</span></code> is set to <code class="docutils literal notranslate"><span class="pre">us</span></code>, <code class="docutils literal notranslate"><span class="pre">123456</span> <span class="pre">ps</span></code> will be displayed as:</p>
<blockquote>
<div><div class="highlight" style="background: #002b36; color: #eee8d5;"><pre style="line-height: 125%; background: #002b36; color: #eee8d5;"><span style="color: #2aa198; ">0.123456 us</span> - <span style="font_weight: bold; color: #eee8d5; ">check</span>                - <span style="font_weight: bold; color: #eee8d5; background: #cb4b16; ">FAILURE</span> - Failures are even more red
</pre></div>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">n_log_time_decimals</span></code> is set to a non-negative number, the output is formatted to that number of decimals:</p>
<ul class="simple">
<li><p>If the simulator resolution is higher than the specified decimals, the value is <strong>truncated</strong>.</p></li>
<li><p>If the number of decimals exceeds the resolution, the value is zero-padded.</p></li>
</ul>
<p>For example, <code class="docutils literal notranslate"><span class="pre">123456</span> <span class="pre">ps</span></code> with <code class="docutils literal notranslate"><span class="pre">auto_time_unit</span></code> and 2 decimals is displayed as:</p>
<blockquote>
<div><div class="highlight" style="background: #002b36; color: #eee8d5;"><pre style="line-height: 125%; background: #002b36; color: #eee8d5;"><span style="color: #2aa198; ">123.45 ns</span> - <span style="font_weight: bold; color: #eee8d5; ">default</span>              -    <span style="font_weight: bold; color: #008000; ">PASS</span> - Passes are green
</pre></div>
</div></blockquote>
</section>
<section id="stopping-simulation">
<h2>Stopping simulation<a class="headerlink" href="#stopping-simulation" title="Link to this heading">¶</a></h2>
<p>By default the simulation will come to a stop if a single log with
level <code class="docutils literal notranslate"><span class="pre">error</span></code> or <code class="docutils literal notranslate"><span class="pre">failure</span></code> is made. In VUnit a simulation stop
before <code class="docutils literal notranslate"><span class="pre">test_runner_cleanup</span></code> is considered a failure.</p>
<p>Simulation stop is controlled via a stop count mechanism. The stop count mechanism works in the following way:</p>
<ul class="simple">
<li><p>Stop count may be either set or not set for a specific logger and log level.</p></li>
<li><p>When a log is made to a logger it is checked if there is a stop count set.</p>
<ul>
<li><p>If set it is decremented and reaching zero means simulation stops.</p></li>
<li><p>If not set the decrementation is recursively propagated to the parent logger.</p></li>
</ul>
</li>
<li><p>It is possible to disable stopping simulation by setting an infinite stop count.</p></li>
<li><p>By default only the root logger has a stop count set.</p>
<ul>
<li><p>Root logger has stop count set to 1 for <code class="docutils literal notranslate"><span class="pre">error</span></code> and <code class="docutils literal notranslate"><span class="pre">failure</span></code>.</p></li>
<li><p>Root logger has stop disabled for all other log levels.</p></li>
</ul>
</li>
</ul>
<section id="example">
<h3>Example:<a class="headerlink" href="#example" title="Link to this heading">¶</a></h3>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="c1">-- Allow 10 errors from my_logger and its children</span>
<span class="n">set_stop_count</span><span class="p">(</span><span class="n">my_logger</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>

<span class="c1">-- Disable stop on errors from my_logger and its children</span>
<span class="n">disable_stop</span><span class="p">(</span><span class="n">my_logger</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>

<span class="c1">-- Short hand for stopping on error and failure but not warning globally</span>
<span class="n">set_stop_level</span><span class="p">(</span><span class="n">error</span><span class="p">);</span>

<span class="c1">-- Short hand for stopping on warning, error and failure for specific logger</span>
<span class="n">set_stop_level</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(</span><span class="s">&quot;my_library:my_component&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">warning</span><span class="p">);</span>
</pre></div>
</div></blockquote>
</section>
</section>
<section id="print-procedure">
<h2>Print Procedure<a class="headerlink" href="#print-procedure" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">print</span></code> is a procedure that unconditionally outputs its message to stdout or file without any formatting.</p>
<div class="highlight"><pre><span></span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Message to stdout&quot;</span><span class="p">);</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot;Append this message to an existing file or create a new file if it doesn&#39;t exist&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;path/to/file&quot;</span><span class="p">);</span>
<span class="n">print</span><span class="p">(</span><span class="s">&quot;Create new file with this message&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;path/to/file&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">write_mode</span><span class="p">);</span>
</pre></div>
<p>It’s also possible to print to an open file object.</p>
<div class="highlight"><pre><span></span><span class="n">print</span><span class="p">(</span><span class="s">&quot;Message to file object&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">my_file_object</span><span class="p">);</span>
</pre></div>
<p>This procedure can be used to optimize performance by printing many messages before flushing or closing the file.</p>
</section>
<section id="log-visibility">
<h2>Log visibility<a class="headerlink" href="#log-visibility" title="Link to this heading">¶</a></h2>
<p>Log visibility to a log handler can be configured for specific log levels of a logger.</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="c1">-- Disable all logging to the display.</span>
<span class="n">hide_all</span><span class="p">(</span><span class="n">display_handler</span><span class="p">);</span>

<span class="c1">-- Show debug log level of system0 logger to the display</span>
<span class="n">show</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(</span><span class="s">&quot;system0&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">display_handler</span><span class="p">,</span><span class="w"> </span><span class="n">debug</span><span class="p">);</span>

<span class="c1">-- Show all logging from the uart module in system0 to the display</span>
<span class="n">show_all</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(</span><span class="s">&quot;system0:uart&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">display_handler</span><span class="p">);</span>

<span class="c1">-- Hide all debug output to display handler</span>
<span class="n">hide</span><span class="p">(</span><span class="n">display_handler</span><span class="p">,</span><span class="w"> </span><span class="n">debug</span><span class="p">);</span>
</pre></div>
</div></blockquote>
</section>
<section id="mocking">
<h2>Mocking<a class="headerlink" href="#mocking" title="Link to this heading">¶</a></h2>
<p>When writing libraries and verification components it is very
important to verify that they produce failures as intended. Using the
VUnit logging system it is very easy to test that the expected
failures are produced by mocking a logger object and checking the
expected calls to it.</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">logger</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">get_logger</span><span class="p">(</span><span class="s">&quot;my_library&quot;</span><span class="p">);</span>
<span class="n">mock</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span><span class="w"> </span><span class="n">failure</span><span class="p">);</span>

<span class="c1">-- Code to trigger an error</span>

<span class="c1">-- Verify that the expected error message has been produced</span>
<span class="n">check_only_log</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Some error message&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">failure</span><span class="p">);</span>
<span class="n">unmock</span><span class="p">(</span><span class="n">logger</span><span class="p">);</span>
</pre></div>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">check_only_log</span></code> procedure checks that one and only one log
message was produced.  There is also the <code class="docutils literal notranslate"><span class="pre">check_log</span></code> procedure which
checks and consumes one log message from the list of recorded log calls to
check a sequence of log messages.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">mock</span></code> procedures ensure that all future calls to the logger
are recorded and not sent to a log handler or cause simulation
abort. The <code class="docutils literal notranslate"><span class="pre">unmock</span></code> procedure restores the logger to its normal
state.  The <code class="docutils literal notranslate"><span class="pre">unmock</span></code> call also checks that all recorded log messages
have been checked by a corresponding <code class="docutils literal notranslate"><span class="pre">check_log</span></code> or
<code class="docutils literal notranslate"><span class="pre">check_only_log</span></code> procedure.</p>
<p>It is possible to mock several loggers or log levels simultaneously.
All mocked log messages are written to the same global mock queue.
The number of log messages in this queue is returned by the
<code class="docutils literal notranslate"><span class="pre">mock_queue_length</span></code> function.</p>
<p>The mock queue length can be used in a test bench to wait for a log to
occur before issuing the <code class="docutils literal notranslate"><span class="pre">check_log</span></code> procedure.</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">logger</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">get_logger</span><span class="p">(</span><span class="s">&quot;my_library&quot;</span><span class="p">);</span>
<span class="n">mock</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span><span class="w"> </span><span class="n">failure</span><span class="p">);</span>

<span class="c1">-- Code to trigger the error</span>

<span class="k">wait</span><span class="w"> </span><span class="k">until</span><span class="w"> </span><span class="n">mock_queue_length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">rising_edge</span><span class="p">(</span><span class="n">clk</span><span class="p">);</span>
<span class="n">check_only_log</span><span class="p">(</span><span class="n">logger</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Some error message&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">failure</span><span class="p">);</span>
<span class="n">unmock</span><span class="p">(</span><span class="n">logger</span><span class="p">);</span>
</pre></div>
</div></blockquote>
</section>
<section id="disabled-logs">
<h2>Disabled logs<a class="headerlink" href="#disabled-logs" title="Link to this heading">¶</a></h2>
<p>In addition to visibility settings a log level from a specific logger
can be disabled. The use case for disabling a log is to ignore an
irrelevant or unwanted log message. Disabling prevents simulation
stop and all visibility to log handlers. A disabled log is still
counted to get statistics on disabled log messages.</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="c1">-- Irrelevant warning</span>
<span class="n">disable</span><span class="p">(</span><span class="n">get_logger</span><span class="p">(</span><span class="s">&quot;memory_ip:timing_check&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">warning</span><span class="p">);</span>
</pre></div>
</div></blockquote>
</section>
<section id="log-location">
<span id="logging-library-loglocation"></span><h2>Log Location<a class="headerlink" href="#log-location" title="Link to this heading">¶</a></h2>
<p>For simulators supporting VHDL-2019 VUnit adds file name
and line number location information to all log entries. Currently
only Riviera-PRO and Active-HDL supports VHDL-2019 and they restrict the feature
to <strong>debug compiled files</strong>. You can compile all files or just the ones
using logging. For example,</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">testbenches</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">get_source_files</span><span class="p">(</span><span class="s2">&quot;*tb*&quot;</span><span class="p">)</span>
<span class="n">testbenches</span><span class="o">.</span><span class="n">set_compile_option</span><span class="p">(</span><span class="s2">&quot;rivierapro.vcom_flags&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;-dbg&quot;</span><span class="p">])</span>
</pre></div>
</div></blockquote>
<p>For earlier VHDL standards there is an optional location preprocessor that can
be used to serve the same purpose. The preprocessor is enabled from
the <code class="docutils literal notranslate"><span class="pre">run.py</span></code> file like this:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">ui</span> <span class="o">=</span> <span class="n">VUnit</span><span class="o">.</span><span class="n">from_argv</span><span class="p">()</span>
<span class="n">ui</span><span class="o">.</span><span class="n">add_vhdl_builtins</span><span class="p">()</span>
<span class="n">ui</span><span class="o">.</span><span class="n">enable_location_preprocessing</span><span class="p">()</span>
</pre></div>
</div></blockquote>
<p>Regardless of method the location information is appended to the end of the log entry:</p>
<blockquote>
<div><div class="highlight" style="background: #002b36; color: #eee8d5;"><pre style="line-height: 125%; background: #002b36; color: #eee8d5;"><span style="color: #2aa198; ">1.260 us</span> - <span style="font_weight: bold; color: #eee8d5; ">check</span>                -   <span style="font_weight: bold; color: #cb4b16; ">ERROR</span> - Equality check failed for packet length - Got 15. Expected 16. (receiver.vhd:73)
</pre></div>
</div></blockquote>
<p>If you’ve placed your log call(s) in a convenience procedure you may
want the location of the calls to that procedure to be in the
output and not the location of the log call in the definition of the
convenience procedure. For VHDL-2019 you can use the <code class="docutils literal notranslate"><span class="pre">path_offset</span></code>
parameter to specify a number of steps earlier in the call stack. For
example:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">my_convenience_procedure</span><span class="p">(</span>
<span class="w">  </span><span class="c1">-- Parameters ...</span>
<span class="p">)</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">  </span><span class="c1">-- Some code ...</span>
<span class="w">  </span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Some message&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">path_offset</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">  </span><span class="c1">-- Some code ...</span>
<span class="k">end</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="nc">my_convenience_procedure</span><span class="p">;</span>
</pre></div>
</div></blockquote>
<p>When <code class="docutils literal notranslate"><span class="pre">path_offset</span></code> is set to 1 the location of the caller to
<code class="docutils literal notranslate"><span class="pre">my_convenience_procedure</span></code> will be used in the log output.</p>
<p>With earlier VHDL standards you can add the <code class="docutils literal notranslate"><span class="pre">line_num</span></code> and
<code class="docutils literal notranslate"><span class="pre">file_name</span></code> parameters to the <strong>end</strong> of the parameter list for the
convenience procedure:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="n">my_convenience_procedure</span><span class="p">(</span>
<span class="w">  </span><span class="c1">-- Custom parameters ...</span>

<span class="w">  </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">is</span>
<span class="k">begin</span>
<span class="w">  </span><span class="c1">-- Some code ...</span>
<span class="w">  </span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Some message&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">line_num</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">line_num</span><span class="p">,</span><span class="w"> </span><span class="n">file_name</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">file_name</span><span class="p">);</span>
<span class="w">  </span><span class="c1">-- Some code ...</span>
<span class="k">end</span><span class="w"> </span><span class="k">procedure</span><span class="w"> </span><span class="nc">my_convenience_procedure</span><span class="p">;</span>
</pre></div>
</div></blockquote>
<p>Then let the location preprocessor know about the added procedure:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">ui</span> <span class="o">=</span> <span class="n">VUnit</span><span class="o">.</span><span class="n">from_argv</span><span class="p">()</span>
<span class="n">ui</span><span class="o">.</span><span class="n">add_vhdl_builtins</span><span class="p">()</span>
<span class="n">ui</span><span class="o">.</span><span class="n">enable_location_preprocessing</span><span class="p">(</span><span class="n">additional_subprograms</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;my_convenience_procedure&quot;</span><span class="p">])</span>
</pre></div>
</div></blockquote>
</section>
<section id="external-logging-framework-integration">
<h2>External Logging Framework Integration<a class="headerlink" href="#external-logging-framework-integration" title="Link to this heading">¶</a></h2>
<p>VUnit provides a package <code class="docutils literal notranslate"><span class="pre">common_log_pkg</span></code> providing a single procedure <code class="docutils literal notranslate"><span class="pre">write_to_log</span></code> that is used to
output the string produced by a log entry. The implementation of this procedure can be changed to redirect VUnit log
messages to a third party logging framework, thereby aligning the logging styles in a testbench with code using several
logging frameworks. The feature is enabled by passing a reference to the file implementing the package body:</p>
<blockquote>
<div><div class="highlight"><pre><span></span><span class="n">ui</span><span class="o">.</span><span class="n">add_vhdl_builtins</span><span class="p">(</span><span class="n">use_external_log</span><span class="o">=</span><span class="s2">&quot;path/to/other/common_log_pkg/body&quot;</span><span class="p">)</span>
</pre></div>
</div></blockquote>
<p>The procedure interface is designed to be generic and suitable for third party logging frameworks as well. If provided,
third party log messages can also be redirected to VUnit logging:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="nn">std.textio.</span><span class="k">all</span><span class="p">;</span>

<span class="k">use</span><span class="w"> </span><span class="nn">work.ansi_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.log_levels_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.string_ops.upper</span><span class="p">;</span>

<span class="k">package</span><span class="w"> </span><span class="n">common_log_pkg</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="c1">-- Deferred constant set to true in the native implementation of the package.</span>
<span class="w">  </span><span class="c1">-- Must be set to false in alternative implementations.</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">is_original_pkg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Default interface values.</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">no_time</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">no_string</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Converts a log message and associated metadata to a string written to the specified log destination.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">write_to_log</span><span class="p">(</span>
<span class="w">    </span><span class="c1">----------------------------------------------------------------------</span>
<span class="w">    </span><span class="c1">-- Log entry items mandatory for all implementations of this interface</span>
<span class="w">    </span><span class="c1">----------------------------------------------------------------------</span>

<span class="w">    </span><span class="c1">-- Destination of the log message is either std.textio.output (std output) or a text file object previously opened</span>
<span class="w">    </span><span class="c1">-- for writing</span>
<span class="w">    </span><span class="k">file</span><span class="w"> </span><span class="n">log_destination</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">text</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Path to log_destination if it&#39;s a file, empty string otherwise</span>
<span class="w">    </span><span class="n">log_destination_path</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">no_string</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Log message</span>
<span class="w">    </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">no_string</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Simulation time associated with the log message</span>
<span class="w">    </span><span class="n">log_time</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">no_time</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Level associated with the log message. For example &quot;DEBUG&quot; or &quot;WARNING&quot;.</span>
<span class="w">    </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">no_string</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Name of the producer of the log message. Hierarchical names use colon as the delimiter.</span>
<span class="w">    </span><span class="c1">-- For example &quot;parent_component:child_component&quot;.</span>
<span class="w">    </span><span class="n">log_source_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">no_string</span><span class="p">;</span>

<span class="w">    </span><span class="c1">-----------------------------------------------------------------------------------------------------------------</span>
<span class="w">    </span><span class="c1">-- Parameters specific to an implementation of this interface. Only standard IEEE, non-custom, types are allowed.</span>
<span class="w">    </span><span class="c1">-- The documentation below is valid for VUnit only</span>
<span class="w">    </span><span class="c1">-----------------------------------------------------------------------------------------------------------------</span>

<span class="w">    </span><span class="c1">-- Path to file from which the log entry was issued if the location is known, empty string otherwise</span>
<span class="w">    </span><span class="n">log_source_path</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Log format raw, level, verbose, or csv expressed as an integer 0 - 3.</span>
<span class="w">    </span><span class="n">log_format</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Line number in file from which the log entry was issued if the location is known, 0 otherwise</span>
<span class="w">    </span><span class="n">log_source_line_number</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Sequence number for log entry</span>
<span class="w">    </span><span class="n">log_sequence_number</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- True if log entry is to be in color</span>
<span class="w">    </span><span class="n">use_color</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Unit to use for log time.</span>
<span class="w">    </span><span class="c1">-- log_time_unit &lt;= 0: unit = 10 ** log_time_unit.</span>
<span class="w">    </span><span class="c1">-- log_time_unit = 1: native simulator unit.</span>
<span class="w">    </span><span class="c1">-- log_time_unit = 2: unit such that log_time = n * unit where n is in the [0, 1000[ range.</span>
<span class="w">    </span><span class="n">log_time_unit</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Number of decimals to use for log_time. If = -1 then the number of decimals is the number</span>
<span class="w">    </span><span class="c1">-- yielding the full resolution provided by the simulator.</span>
<span class="w">    </span><span class="n">n_log_time_decimals</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">;</span>
<span class="w">    </span><span class="c1">-- Max length of logger names (used for alignment)</span>
<span class="w">    </span><span class="n">max_logger_name_length</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span>
<span class="w">  </span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="deprecated-interfaces">
<h2>Deprecated Interfaces<a class="headerlink" href="#deprecated-interfaces" title="Link to this heading">¶</a></h2>
<p>To better support testbenches developed before VUnit 3.0 it’s still possible to configure a logger using the
<code class="docutils literal notranslate"><span class="pre">logger_init</span></code> procedure. The procedure uses best effort to map old behavior to contemporary functionality.</p>
</section>
<section id="public-api">
<h2>Public API<a class="headerlink" href="#public-api" title="Link to this heading">¶</a></h2>
<section id="logger-pkg">
<h3>logger_pkg<a class="headerlink" href="#logger-pkg" title="Link to this heading">¶</a></h3>
<p>Contains <code class="docutils literal notranslate"><span class="pre">logger_t</span></code> datatype and logger local procedures.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="nn">std.textio.</span><span class="k">all</span><span class="p">;</span>

<span class="k">use</span><span class="w"> </span><span class="nn">work.ansi_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.core_pkg.core_failure</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.id_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.integer_vector_ptr_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.location_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.log_handler_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.log_levels_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.print_pkg.print</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.queue_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.string_ops.</span><span class="k">all</span><span class="p">;</span>

<span class="k">package</span><span class="w"> </span><span class="n">logger_pkg</span><span class="w"> </span><span class="k">is</span>

<span class="w">  </span><span class="c1">-- Logger record, all fields are private</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="n">logger_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">record</span>
<span class="w">    </span><span class="n">p_data</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">integer_vector_ptr_t</span><span class="p">;</span>
<span class="w">  </span><span class="k">end</span><span class="w"> </span><span class="k">record</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">null_logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">(</span><span class="n">p_data</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">null_ptr</span><span class="p">);</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="n">logger_vec_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="p">(</span><span class="kt">natural</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">root_logger</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get a logger with name. A new one is created if it doesn&#39;t</span>
<span class="w">  </span><span class="c1">-- already exist. Can also optionally be relative to a parent logger.</span>
<span class="w">  </span><span class="c1">-- If a new logger is created then a new identity with the name/parent</span>
<span class="w">  </span><span class="c1">-- is also created.</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_logger</span><span class="p">(</span><span class="n">name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                             </span><span class="n">parent</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_logger</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get logger by identity. Create a new identity and/or logger if they</span>
<span class="w">  </span><span class="c1">-- don&#39;t already exist.</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_logger</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">id_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Return true if logger with id already exists, false otherwise.</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">has_logger</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">id_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-------------------------------------</span>
<span class="w">  </span><span class="c1">-- Log procedures for each log level</span>
<span class="w">  </span><span class="c1">-------------------------------------</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">trace</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                  </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                  </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">debug</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                  </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                  </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">pass</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                 </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">info</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                 </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">warning</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                    </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                    </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">error</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                  </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                  </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">failure</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                    </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                    </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">warning_if</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                       </span><span class="n">condition</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">                       </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                       </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">error_if</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                     </span><span class="n">condition</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">                     </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                     </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                     </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                     </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">failure_if</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                       </span><span class="n">condition</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">                       </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                       </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">------------------------------------------------</span>
<span class="w">  </span><span class="c1">-- Log procedure short hands for default logger</span>
<span class="w">  </span><span class="c1">------------------------------------------------</span>

<span class="w">  </span><span class="c1">-- The default logger, all log calls without logger argument go to this logger.</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">default_logger</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">trace</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                  </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">debug</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                  </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">pass</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                 </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">info</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                 </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                 </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">warning</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                    </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">error</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                  </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                  </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">failure</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                    </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                    </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">warning_if</span><span class="p">(</span><span class="n">condition</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">                       </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                       </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">error_if</span><span class="p">(</span><span class="n">condition</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">                     </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                     </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                     </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                     </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">failure_if</span><span class="p">(</span><span class="n">condition</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">                       </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                       </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                       </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Log procedure with level as argument</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">log</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">info</span><span class="p">;</span>
<span class="w">                </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">log</span><span class="p">(</span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">info</span><span class="p">;</span>
<span class="w">                </span><span class="n">path_offset</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Get the name of this logger get_name(get_logger(&quot;parent:child&quot;)) = &quot;child&quot;</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_name</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the full name of this logger get_name(get_logger(&quot;parent:child&quot;)) = &quot;parent:child&quot;</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_full_name</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get identity for this logger.</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_id</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">id_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the parent of this logger</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_parent</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the number of children of this logger</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">num_children</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the idx&#39;th child of this logger</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_child</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Set the threshold for stopping simulation for a specific log level and</span>
<span class="w">  </span><span class="c1">-- logger tree</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_stop_count</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                           </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                           </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span>
<span class="w">                           </span><span class="n">unset_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Disable stopping simulation for a specific log level and</span>
<span class="w">  </span><span class="c1">-- logger tree</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">disable_stop</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                         </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                         </span><span class="n">unset_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Set the threshold for stopping simulation for a specific log level in</span>
<span class="w">  </span><span class="c1">-- the entire logging tree.</span>

<span class="w">  </span><span class="c1">-- NOTE: Removes all other stop count settings for log_level in entire tree.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_stop_count</span><span class="p">(</span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                           </span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Disable stopping simulation for a specific log level in</span>
<span class="w">  </span><span class="c1">-- the entire logging tree.</span>

<span class="w">  </span><span class="c1">-- NOTE: Removes all other stop count settings for log_level in entire tree.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">disable_stop</span><span class="p">(</span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Shorthand for configuring the stop counts for (warning, error, failure) in</span>
<span class="w">  </span><span class="c1">-- a logger subtree. Set stop count to infinite for all levels &lt; log_level and</span>
<span class="w">  </span><span class="c1">-- 1 for all (warning, error, failure) &gt;= log_level.</span>

<span class="w">  </span><span class="c1">-- NOTE: Removes all other stop count settings from logger subtree.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_stop_level</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                           </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">alert_log_level_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Shorthand for configuring the stop counts in entire logger tree.</span>
<span class="w">  </span><span class="c1">-- Same behavior as set_stop_level for specific logger subtree above</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_stop_level</span><span class="p">(</span><span class="n">level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">alert_log_level_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Unset stop count for stopping simulation for a specific log level and</span>
<span class="w">  </span><span class="c1">-- logger tree</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">unset_stop_count</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                             </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                             </span><span class="n">unset_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Returns true if logger has stop count set</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">has_stop_count</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                                 </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the stop count for logger and log_level if set, else fail</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_stop_count</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                                 </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Disable a log_level from specific logger including all children.</span>
<span class="w">  </span><span class="c1">-- Disable is used when a log message is unwanted and it should be ignored.</span>

<span class="w">  </span><span class="c1">-- NOTE: A disabled log message is still counted to get a disabled log count</span>
<span class="w">  </span><span class="c1">--       statistics.</span>
<span class="w">  </span><span class="c1">--       errors and failures can be disabled but the final_log_check must</span>
<span class="w">  </span><span class="c1">--       explicitly allow it as well as an extra safety mechanism.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">disable</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                    </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                    </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Returns true if the logger and log_level is disabled</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">is_disabled</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                              </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Hide log messages of specified level to this handler.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">hide</span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Hide log messages from the logger of the specified level to this handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">hide</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Hide log messages of the specified levels to this handler.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">hide</span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_levels</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_vec_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Hide log messages from the logger of the specified levels to this handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">hide</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_levels</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_vec_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Show log messages of the specified log_level to this handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Show log messages from the logger of the specified log_level to this handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Show log messages of the specified log_levels to this handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_levels</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_vec_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Show log messages from the logger of the specified log_levels to this handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">log_levels</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_vec_t</span><span class="p">;</span>
<span class="w">                 </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Show all log levels to the log handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">show_all</span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Show all log levels to the handler from specific logger</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">show_all</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                     </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                     </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Hide all log levels from this handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">hide_all</span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Hide all log levels from this handler from specific logger</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">hide_all</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                     </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                     </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Return true if logging to this logger at this level is visible anywhere</span>
<span class="w">  </span><span class="c1">-- Can be used to avoid expensive string creation when not logging a specific</span>
<span class="w">  </span><span class="c1">-- level</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">is_visible</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                             </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Return true if logging to this logger at this level is visible to handler</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">is_visible</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                             </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                             </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the current visible log levels for a specific logger to this log handler</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_visible_log_levels</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                                         </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">log_level_vec_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the current invisible log levels for a specific logger to this log handler</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_invisible_log_levels</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                                           </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">log_level_vec_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the number of log handlers attached to this logger</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">num_log_handlers</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the idx&#39;th log handler attached to this logger</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_log_handler</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get all log handlers attached to this logger</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_log_handlers</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">log_handler_vec_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Set the log handlers for this logger</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_log_handlers</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                             </span><span class="n">log_handlers</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_vec_t</span><span class="p">;</span>
<span class="w">                             </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Get the total number of log calls to all loggers</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_log_count</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get number of log calls to a specific level or all levels when level = null_log_level</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_log_count</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                                </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Reset the log call count of a specific level or all levels when level = null_log_level</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">reset_log_count</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                            </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">null_log_level</span><span class="p">;</span>
<span class="w">                            </span><span class="n">include_children</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">true</span><span class="p">);</span>


<span class="w">  </span><span class="c1">-- Perform a check of the log counts and fail unless there are no errors or failures.</span>
<span class="w">  </span><span class="c1">-- By default no disabled errors or failures are not allowed.</span>
<span class="w">  </span><span class="c1">-- Disabled errors and failrues can be allowed by setting the corresponding</span>
<span class="w">  </span><span class="c1">-- arguments to true.</span>
<span class="w">  </span><span class="c1">-- By default warnings are allowed but failure on warning can be enabled.</span>
<span class="w">  </span><span class="c1">-- When fail on warning is enabled it also allows disabled warnings.</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">final_log_check</span><span class="p">(</span><span class="n">allow_disabled_errors</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">                            </span><span class="n">allow_disabled_failures</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">                            </span><span class="n">fail_on_warning</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">);</span>

<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">final_log_check</span><span class="p">(</span><span class="n">allow_disabled_errors</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">                                  </span><span class="n">allow_disabled_failures</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">                                  </span><span class="n">fail_on_warning</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">---------------------------------------------------------------------</span>
<span class="w">  </span><span class="c1">-- Mock procedures to enable unit testing of code performing logging</span>
<span class="w">  </span><span class="c1">---------------------------------------------------------------------</span>

<span class="w">  </span><span class="c1">-- Mock the logger preventing simulaton abort and recording all logs to it</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">mock</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Mock log_level of logger preventing simulaton abort and recording all logs to it</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">mock</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span><span class="w"> </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Unmock the logger returning it to its normal state</span>
<span class="w">  </span><span class="c1">-- Results in failures if there are still unchecked log calls recorded</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">unmock</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Returns true if the logger is mocked</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">is_mocked</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Constant to ignore time value when checking log call</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">no_time_check</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">ns</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Check that the earliest recorded log call in the mock state matches this</span>
<span class="w">  </span><span class="c1">-- call or fails. Also consumes this recorded log call such that subsequent</span>
<span class="w">  </span><span class="c1">-- check_log calls can be used to verify a sequence of log calls</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">check_log</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                      </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                      </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                      </span><span class="n">log_time</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">no_time_check</span><span class="p">;</span>
<span class="w">                      </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                      </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Check that there is only one recorded log call remaining</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">check_only_log</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>
<span class="w">                           </span><span class="n">msg</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                           </span><span class="n">log_level</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_level_t</span><span class="p">;</span>
<span class="w">                           </span><span class="n">log_time</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">no_time_check</span><span class="p">;</span>
<span class="w">                           </span><span class="n">line_num</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">natural</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">                           </span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Check that there are no remaining recorded log calls, automatically called</span>
<span class="w">  </span><span class="c1">-- during unmock</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">check_no_log</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Return the number of unchecked messages in the mock queue</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">mock_queue_length</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">natural</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-----------------------------------------------------------------------------</span>
<span class="w">  </span><span class="c1">-- Misc</span>
<span class="w">  </span><span class="c1">-----------------------------------------------------------------------------</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">to_integer</span><span class="p">(</span><span class="n">logger</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">logger_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">integer</span><span class="p">;</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">to_logger</span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">logger_t</span><span class="p">;</span>


<span class="k">end</span><span class="w"> </span><span class="k">package</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="log-handler-pkg">
<h3>log_handler_pkg<a class="headerlink" href="#log-handler-pkg" title="Link to this heading">¶</a></h3>
<p>Contains <code class="docutils literal notranslate"><span class="pre">log_handler_t</span></code> datatype and log handler local configuration
procedures.</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="k">use</span><span class="w"> </span><span class="nn">std.textio.</span><span class="k">all</span><span class="p">;</span>

<span class="k">use</span><span class="w"> </span><span class="nn">work.ansi_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.common_log_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.file_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.integer_vector_ptr_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.log_levels_pkg.</span><span class="k">all</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.string_ops.upper</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="nn">work.string_ptr_pkg.</span><span class="k">all</span><span class="p">;</span>

<span class="k">package</span><span class="w"> </span><span class="n">log_handler_pkg</span><span class="w"> </span><span class="k">is</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="n">deprecated_log_format_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="c1">-- The raw log format contains just the message without any other information</span>
<span class="w">    </span><span class="n">raw</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The level log format contains the level and message</span>
<span class="w">    </span><span class="n">level</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The verbose log format contains all information</span>
<span class="w">    </span><span class="n">verbose</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- The csv format contains all information in machine readable format</span>
<span class="w">    </span><span class="n">csv</span><span class="p">,</span>

<span class="w">    </span><span class="c1">-- Deprecated value not supported by new interfaces but kept for backward</span>
<span class="w">    </span><span class="c1">-- compatibility reasons. NOT for new designs</span>
<span class="w">    </span><span class="n">off</span><span class="p">);</span>

<span class="w">  </span><span class="k">subtype</span><span class="w"> </span><span class="n">log_format_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">deprecated_log_format_t</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">csv</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Log handler record, all fields are private</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="n">log_handler_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">record</span>
<span class="w">    </span><span class="n">p_data</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">integer_vector_ptr_t</span><span class="p">;</span>
<span class="w">  </span><span class="k">end</span><span class="w"> </span><span class="k">record</span><span class="p">;</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">null_log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">(</span><span class="n">p_data</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">null_ptr</span><span class="p">);</span>
<span class="w">  </span><span class="k">type</span><span class="w"> </span><span class="n">log_handler_vec_t</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">array</span><span class="w"> </span><span class="p">(</span><span class="kt">natural</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="p">)</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Display handler; Write to stdout</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">display_handler</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Get the name of the file used by the handler</span>
<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">get_file_name</span><span class="w"> </span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- File name used by the display handler</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">stdout_file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&gt;1&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">null_file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Log time unit is selected such that the value is in the [0, 1000[ range.</span>
<span class="w">  </span><span class="c1">-- The exception is times &gt;= 1000 sec for which the unit is always sec.</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">auto_time_unit</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Log time unit native to the simulator</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">native_time_unit</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Number of decimals for log time corresponds to the full resolution</span>
<span class="w">  </span><span class="c1">-- provided by the simulator</span>
<span class="w">  </span><span class="k">constant</span><span class="w"> </span><span class="n">full_time_resolution</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="p">;</span>

<span class="w">  </span><span class="c1">-- Set the format to be used by the log handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">set_format</span><span class="p">(</span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                       </span><span class="n">format</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_format_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">verbose</span><span class="p">;</span>
<span class="w">                       </span><span class="n">use_color</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">                       </span><span class="n">log_time_unit</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">native_time_unit</span><span class="p">;</span>
<span class="w">                       </span><span class="n">n_log_time_decimals</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="w"> </span><span class="o">:=</span><span class="w">  </span><span class="mi">0</span><span class="p">);</span>

<span class="w">  </span><span class="c1">-- Get the format used by the log handler</span>
<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">get_format</span><span class="p">(</span><span class="k">constant</span><span class="w"> </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                       </span><span class="k">variable</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">log_format_t</span><span class="p">;</span>
<span class="w">                       </span><span class="k">variable</span><span class="w"> </span><span class="n">use_color</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
<span class="w">                       </span><span class="k">variable</span><span class="w"> </span><span class="n">log_time_unit</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">time</span><span class="p">;</span>
<span class="w">                       </span><span class="k">variable</span><span class="w"> </span><span class="n">n_log_time_decimals</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">integer</span><span class="p">);</span>

<span class="w">  </span><span class="k">procedure</span><span class="w"> </span><span class="n">get_format</span><span class="p">(</span><span class="k">constant</span><span class="w"> </span><span class="n">log_handler</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
<span class="w">                       </span><span class="k">variable</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="n">log_format_t</span><span class="p">;</span>
<span class="w">                       </span><span class="k">variable</span><span class="w"> </span><span class="n">use_color</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">boolean</span><span class="p">);</span>

<span class="w">  </span><span class="k">impure</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">new_log_handler</span><span class="p">(</span><span class="n">file_name</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
<span class="w">                                  </span><span class="n">format</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">log_format_t</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">verbose</span><span class="p">;</span>
<span class="w">                                  </span><span class="n">use_color</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">false</span><span class="p">;</span>
<span class="w">                                  </span><span class="n">log_time_unit</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">time</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">native_time_unit</span><span class="p">;</span>
<span class="w">                                  </span><span class="n">n_log_time_decimals</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">integer</span><span class="w"> </span><span class="o">:=</span><span class="w">  </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">log_handler_t</span><span class="p">;</span>
</pre></div>
</div>
</section>
</section>
<section id="id1">
<h2>Example<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h2>
<p>A runnable example using logging can be found in <a class="reference external" href="https://github.com/VUnit/vunit/tree/master/examples/vhdl/logging//">Logging Example</a>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../check/user_guide.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Check Library User Guide</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../id/user_guide.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Identity Package</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2014-2024, Lars Asplund
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link fa-solid fa-brands fa-twitter" href="https://twitter.com/VUnitFramework" aria-label="Twitter @VUnitFramework"></a>
              <a class="muted-link fa-solid fa-brands fa-gitter" href="https://gitter.im/VUnit/vunit" aria-label="Gitter VUnit/vunit"></a>
              <a class="muted-link fa-solid fa-brands fa-github" href="https://github.com/VUnit/vunit" aria-label="GitHub VUnit/vunit"></a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Logging Library User Guide</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#architecture">Architecture</a></li>
<li><a class="reference internal" href="#log-handlers">Log Handlers</a></li>
<li><a class="reference internal" href="#log-levels">Log Levels</a></li>
<li><a class="reference internal" href="#formatting">Formatting</a></li>
<li><a class="reference internal" href="#stopping-simulation">Stopping simulation</a><ul>
<li><a class="reference internal" href="#example">Example:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#print-procedure">Print Procedure</a></li>
<li><a class="reference internal" href="#log-visibility">Log visibility</a></li>
<li><a class="reference internal" href="#mocking">Mocking</a></li>
<li><a class="reference internal" href="#disabled-logs">Disabled logs</a></li>
<li><a class="reference internal" href="#log-location">Log Location</a></li>
<li><a class="reference internal" href="#external-logging-framework-integration">External Logging Framework Integration</a></li>
<li><a class="reference internal" href="#deprecated-interfaces">Deprecated Interfaces</a></li>
<li><a class="reference internal" href="#public-api">Public API</a><ul>
<li><a class="reference internal" href="#logger-pkg">logger_pkg</a></li>
<li><a class="reference internal" href="#log-handler-pkg">log_handler_pkg</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>